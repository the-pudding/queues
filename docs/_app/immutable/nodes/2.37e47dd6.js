import{s as Tt,f as ne,e as pt,B as Ir,g as re,d as V,j as I,u as z,v as At,C as Zt,i as ke,w as Or,h as Se,x as xr,y as kr,z as Dr,o as ir,p as mn,a as He,c as Ge,k as jr,D as qt,E as Ur,A as dn,H as vn,r as gn,l as Vt,m as Ht,F as pn,n as Wr,G as Br,I as Yr,J as zn,K as Qn}from"../chunks/scheduler.bbb1c494.js";import{S as Ct,i as Pt,a as Et,t as Rt,f as Nr,b as zt,d as Qt,m as Kt,e as Jt}from"../chunks/index.3170d8c8.js";import{e as ut}from"../chunks/each.e59479a4.js";import{c as Xr,v as $r}from"../chunks/viewport.c21f6f85.js";import{w as Vr}from"../chunks/index.2daf3e28.js";function Kn(P,h,v){const g=P.slice();return g[5]=h[v],g}function Jn(P){let h,v;return{c(){h=ne("link"),this.h()},l(g){h=re(g,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){I(h,"rel","preload"),I(h,"href",v=P[5]),I(h,"as","font"),I(h,"type","font/woff2"),I(h,"crossorigin","")},m(g,b){ke(g,h,b)},p(g,b){b&16&&v!==(v=g[5])&&I(h,"href",v)},d(g){g&&V(h)}}}function Hr(P){let h,v,g,b,E,p,w,R,X,U,Q,Y,s,W,H,K,be,me,B,oe,j,te,we,Z,_e,ie;document.title=h=P[0];let ve=ut(P[4]),ge=[];for(let se=0;se<ve.length;se+=1)ge[se]=Jn(Kn(P,ve,se));return{c(){v=ne("meta"),g=ne("meta"),b=ne("meta"),E=ne("meta"),p=ne("meta"),w=ne("meta"),R=ne("meta"),X=ne("meta"),U=ne("meta"),Q=ne("meta"),s=ne("meta"),W=ne("meta"),H=ne("meta"),K=ne("meta"),be=ne("meta"),me=ne("meta"),B=ne("meta"),oe=ne("meta"),j=ne("meta"),we=ne("meta"),Z=ne("link");for(let se=0;se<ge.length;se+=1)ge[se].c();ie=pt(),this.h()},l(se){const $=Ir("svelte-1htu80s",document.head);v=re($,"META",{name:!0,content:!0}),g=re($,"META",{name:!0,content:!0}),b=re($,"META",{name:!0,content:!0}),E=re($,"META",{property:!0,content:!0}),p=re($,"META",{property:!0,content:!0}),w=re($,"META",{property:!0,content:!0}),R=re($,"META",{property:!0,content:!0}),X=re($,"META",{property:!0,content:!0}),U=re($,"META",{property:!0,content:!0}),Q=re($,"META",{property:!0,content:!0}),s=re($,"META",{property:!0,content:!0}),W=re($,"META",{property:!0,content:!0}),H=re($,"META",{property:!0,content:!0}),K=re($,"META",{name:!0,content:!0}),be=re($,"META",{name:!0,content:!0}),me=re($,"META",{name:!0,content:!0}),B=re($,"META",{name:!0,content:!0}),oe=re($,"META",{name:!0,content:!0}),j=re($,"META",{name:!0,content:!0}),we=re($,"META",{name:!0,content:!0}),Z=re($,"LINK",{rel:!0,href:!0});for(let o=0;o<ge.length;o+=1)ge[o].l($);ie=pt(),$.forEach(V),this.h()},h(){I(v,"name","description"),I(v,"content",P[1]),I(g,"name","author"),I(g,"content","The Pudding"),I(b,"name","news_keywords"),I(b,"content",P[3]),I(E,"property","og:title"),I(E,"content",P[0]),I(p,"property","og:site_name"),I(p,"content","The Pudding"),I(w,"property","og:url"),I(w,"content",P[2]),I(R,"property","og:description"),I(R,"content",P[1]),I(X,"property","og:type"),I(X,"content","article"),I(U,"property","og:locale"),I(U,"content","en_US"),I(Q,"property","og:image"),I(Q,"content",Y=P[2]+"/assets/social-facebook.jpg"),I(s,"property","og:image:type"),I(s,"content","image/jpeg"),I(W,"property","og:image:width"),I(W,"content","1200"),I(H,"property","og:image:height"),I(H,"content","600"),I(K,"name","twitter:card"),I(K,"content","summary_large_image"),I(be,"name","twitter:site"),I(be,"content","https://pudding.cool"),I(me,"name","twitter:creator"),I(me,"content","@puddingviz"),I(B,"name","twitter:title"),I(B,"content",P[0]),I(oe,"name","twitter:description"),I(oe,"content",P[1]),I(j,"name","twitter:image:src"),I(j,"content",te=P[2]+"/assets/social-twitter.jpg"),I(we,"name","robots"),I(we,"content","max-image-preview:large"),I(Z,"rel","canonical"),I(Z,"href",_e=P[2]+"/")},m(se,$){z(document.head,v),z(document.head,g),z(document.head,b),z(document.head,E),z(document.head,p),z(document.head,w),z(document.head,R),z(document.head,X),z(document.head,U),z(document.head,Q),z(document.head,s),z(document.head,W),z(document.head,H),z(document.head,K),z(document.head,be),z(document.head,me),z(document.head,B),z(document.head,oe),z(document.head,j),z(document.head,we),z(document.head,Z);for(let o=0;o<ge.length;o+=1)ge[o]&&ge[o].m(document.head,null);z(document.head,ie)},p(se,[$]){if($&1&&h!==(h=se[0])&&(document.title=h),$&2&&I(v,"content",se[1]),$&8&&I(b,"content",se[3]),$&1&&I(E,"content",se[0]),$&4&&I(w,"content",se[2]),$&2&&I(R,"content",se[1]),$&4&&Y!==(Y=se[2]+"/assets/social-facebook.jpg")&&I(Q,"content",Y),$&1&&I(B,"content",se[0]),$&2&&I(oe,"content",se[1]),$&4&&te!==(te=se[2]+"/assets/social-twitter.jpg")&&I(j,"content",te),$&4&&_e!==(_e=se[2]+"/")&&I(Z,"href",_e),$&16){ve=ut(se[4]);let o;for(o=0;o<ve.length;o+=1){const n=Kn(se,ve,o);ge[o]?ge[o].p(n,$):(ge[o]=Jn(n),ge[o].c(),ge[o].m(ie.parentNode,ie))}for(;o<ge.length;o+=1)ge[o].d(1);ge.length=ve.length}},i:At,o:At,d(se){V(v),V(g),V(b),V(E),V(p),V(w),V(R),V(X),V(U),V(Q),V(s),V(W),V(H),V(K),V(be),V(me),V(B),V(oe),V(j),V(we),V(Z),Zt(ge,se),V(ie)}}}function Gr(P,h,v){let{title:g="Title TK"}=h,{description:b="Description TK"}=h,{url:E="https://pudding.cool"}=h,{keywords:p=""}=h,{preloadFont:w=[]}=h;return P.$$set=R=>{"title"in R&&v(0,g=R.title),"description"in R&&v(1,b=R.description),"url"in R&&v(2,E=R.url),"keywords"in R&&v(3,p=R.keywords),"preloadFont"in R&&v(4,w=R.preloadFont)},[g,b,E,p,w]}class qr extends Ct{constructor(h){super(),Pt(this,h,Gr,Hr,Tt,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function zr(P){let h,v;const g=P[7].default,b=Or(g,P,P[6],null);return{c(){h=ne("div"),b&&b.c()},l(E){h=re(E,"DIV",{});var p=Se(h);b&&b.l(p),p.forEach(V)},m(E,p){ke(E,h,p),b&&b.m(h,null),P[8](h),v=!0},p(E,[p]){b&&b.p&&(!v||p&64)&&xr(b,g,E,E[6],v?Dr(g,E[6],p,null):kr(E[6]),null)},i(E){v||(Et(b,E),v=!0)},o(E){Rt(b,E),v=!1},d(E){E&&V(h),b&&b.d(E),P[8](null)}}}function Qr(P,h,v){let{$$slots:g={},$$scope:b}=h,{root:E=null}=h,{top:p=0}=h,{bottom:w=0}=h,{increments:R=100}=h,{value:X=void 0}=h;const U=[],Q=[];let Y=[],s=[],W;const H=()=>{Y.length&&Y.forEach(be)},K=()=>{let B=0,oe=0;for(let j=0;j<U.length;j++)U[j]>B&&(B=U[j],oe=j);B>0?v(1,X=oe):v(1,X=void 0)},be=(B,oe)=>{const j=ve=>{ve[0].isIntersecting;const ge=ve[0].intersectionRatio;U[oe]=ge,K()},te=p?p*-1:0,we=w?w*-1:0,Z=`${te}px 0px ${we}px 0px`,_e={root:E,rootMargin:Z,threshold:Q};s[oe]&&s[oe].disconnect();const ie=new IntersectionObserver(j,_e);ie.observe(B),s[oe]=ie};ir(()=>{for(let B=0;B<R+1;B++)Q.push(B/R);Y=W.querySelectorAll(":scope > *:not(iframe)"),H()});function me(B){mn[B?"unshift":"push"](()=>{W=B,v(0,W)})}return P.$$set=B=>{"root"in B&&v(2,E=B.root),"top"in B&&v(3,p=B.top),"bottom"in B&&v(4,w=B.bottom),"increments"in B&&v(5,R=B.increments),"value"in B&&v(1,X=B.value),"$$scope"in B&&v(6,b=B.$$scope)},P.$$.update=()=>{P.$$.dirty&24&&H()},[W,X,E,p,w,R,b,g,me]}class Kr extends Ct{constructor(h){super(),Pt(this,h,Qr,zr,Tt,{root:2,top:3,bottom:4,increments:5,value:1})}}var ar={exports:{}};(function(P,h){(function(g,b){P.exports=b()})(Xr,()=>(()=>{var v=[,(p,w,R)=>{R.r(w),R.d(w,{default:()=>U});var X=(()=>{var Q=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(Y={}){var s=Y,W,H;s.ready=new Promise((t,e)=>{W=t,H=e});function K(){function t(y){const m=i;r=e=0,i=new Map,m.forEach(A=>{try{A(y)}catch(d){console.error(d)}}),this.hb(),u&&u.Fb()}let e=0,r=0,i=new Map,u=null,c=null;this.requestAnimationFrame=function(y){e||(e=requestAnimationFrame(t.bind(this)));const m=++r;return i.set(m,y),m},this.cancelAnimationFrame=function(y){i.delete(y),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.Db=function(y){c&&(document.body.remove(c),c=null),y||(c=document.createElement("div"),c.style.backgroundColor="black",c.style.position="fixed",c.style.right=0,c.style.top=0,c.style.color="white",c.style.padding="4px",c.innerHTML="RIVE FPS",y=function(m){c.innerHTML="RIVE FPS "+m.toFixed(1)},document.body.appendChild(c)),u=new function(){let m=0,A=0;this.Fb=function(){var d=performance.now();A?(++m,d-=A,1e3<d&&(y(1e3*m/d),m=A=0)):(A=d,m=0)}}},this.Ab=function(){c&&(document.body.remove(c),c=null),u=null},this.hb=function(){}}function be(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const me="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),B=new function(){function t(){if(!e){let pe=function(he,k,Ae){if(k=M.createShader(k),M.shaderSource(k,Ae),M.compileShader(k),Ae=M.getShaderInfoLog(k),0<(Ae||"").length)throw Ae;M.attachShader(he,k)};var l=document.createElement("canvas"),S={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let M;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(M=l.getContext("webgl",S),r=1,!M)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(M=l.getContext("webgl2",S))r=2;else if(M=l.getContext("webgl",S))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(M=new Proxy(M,{get(he,k){if(he.isContextLost()){if(A||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",k),A=!0),typeof he[k]=="function")return function(){}}else return typeof he[k]=="function"?function(...Ae){return he[k].apply(he,Ae)}:he[k]},set(he,k,Ae){if(he.isContextLost())A||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+k),A=!0);else return he[k]=Ae,!0}}),i=Math.min(M.getParameter(M.MAX_RENDERBUFFER_SIZE),M.getParameter(M.MAX_TEXTURE_SIZE)),l=M.createProgram(),pe(l,M.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),pe(l,M.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),M.bindAttribLocation(l,0,"vertex"),M.bindAttribLocation(l,1,"uv"),M.linkProgram(l),S=M.getProgramInfoLog(l),0<(S||"").trim().length)throw S;u=M.getUniformLocation(l,"mat"),c=M.getUniformLocation(l,"translate"),M.useProgram(l),M.bindBuffer(M.ARRAY_BUFFER,M.createBuffer()),M.enableVertexAttribArray(0),M.enableVertexAttribArray(1),M.bindBuffer(M.ELEMENT_ARRAY_BUFFER,M.createBuffer()),M.uniform1i(M.getUniformLocation(l,"image"),0),M.pixelStorei(M.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=M}return!0}let e=null,r=0,i=0,u=null,c=null,y=0,m=0,A=!1;t(),this.Ob=function(){return t(),i},this.yb=function(l){e.deleteTexture&&e.deleteTexture(l)},this.wb=function(l){if(!t())return null;const S=e.createTexture();return S?(e.bindTexture(e.TEXTURE_2D,S),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),S):null};const d=new be(8),F=new be(8),x=new be(10),q=new be(10);this.Cb=function(l,S,M,pe,he){if(t()){var k=d.push(l),Ae=F.push(S);if(e.canvas){(e.canvas.width!=k||e.canvas.height!=Ae)&&(e.canvas.width=k,e.canvas.height=Ae),e.viewport(0,Ae-S,l,S),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),M.sort((ue,$e)=>$e.lb-ue.lb),k=x.push(pe),y!=k&&(e.bufferData(e.ARRAY_BUFFER,8*k,e.DYNAMIC_DRAW),y=k),k=0;for(var Le of M)e.bufferSubData(e.ARRAY_BUFFER,k,Le.Sa),k+=4*Le.Sa.length;console.assert(k==4*pe);for(var Xe of M)e.bufferSubData(e.ARRAY_BUFFER,k,Xe.ob),k+=4*Xe.ob.length;console.assert(k==8*pe),k=q.push(he),m!=k&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*k,e.DYNAMIC_DRAW),m=k),Le=0;for(var it of M)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,Le,it.indices),Le+=2*it.indices.length;console.assert(Le==2*he),it=0,Xe=!0,k=Le=0;for(const ue of M){ue.image.Na!=it&&(e.bindTexture(e.TEXTURE_2D,ue.image.Ma||null),it=ue.image.Na),ue.Rb?(e.scissor(ue.Xa,Ae-ue.Ya-ue.fb,ue.bc,ue.fb),Xe=!0):Xe&&(e.scissor(0,Ae-S,l,S),Xe=!1),M=2/l;const $e=-2/S;e.uniform4f(u,ue.xa[0]*M*ue.Ga,ue.xa[1]*$e*ue.Ha,ue.xa[2]*M*ue.Ga,ue.xa[3]*$e*ue.Ha),e.uniform2f(c,ue.xa[4]*M*ue.Ga+M*(ue.Xa-ue.Pb*ue.Ga)-1,ue.xa[5]*$e*ue.Ha+$e*(ue.Ya-ue.Qb*ue.Ha)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,k),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,k+4*pe),e.drawElements(e.TRIANGLES,ue.indices.length,e.UNSIGNED_SHORT,Le),k+=4*ue.Sa.length,Le+=2*ue.indices.length}console.assert(k==4*pe),console.assert(Le==2*he)}}},this.canvas=function(){return t()&&e.canvas}},oe=s.onRuntimeInitialized;s.onRuntimeInitialized=function(){function t(C){switch(C){case d.srcOver:return"source-over";case d.screen:return"screen";case d.overlay:return"overlay";case d.darken:return"darken";case d.lighten:return"lighten";case d.colorDodge:return"color-dodge";case d.colorBurn:return"color-burn";case d.hardLight:return"hard-light";case d.softLight:return"soft-light";case d.difference:return"difference";case d.exclusion:return"exclusion";case d.multiply:return"multiply";case d.hue:return"hue";case d.saturation:return"saturation";case d.color:return"color";case d.luminosity:return"luminosity"}}function e(C){return"rgba("+((16711680&C)>>>16)+","+((65280&C)>>>8)+","+((255&C)>>>0)+","+((4278190080&C)>>>24)/255+")"}function r(){0<Ae.length&&(B.Cb(k.drawWidth(),k.drawHeight(),Ae,Le,Xe),Ae=[],Xe=Le=0,k.reset(512,512));for(const C of he){for(const D of C.ja)D();C.ja=[]}he.clear()}oe&&oe();var i=s.RenderPaintStyle;const u=s.RenderPath,c=s.RenderPaint,y=s.Renderer,m=s.StrokeCap,A=s.StrokeJoin,d=s.BlendMode,F=i.fill,x=i.stroke,q=s.FillRule.evenOdd;let l=1;var S=s.RenderImage.extend("CanvasRenderImage",{__construct:function({Aa:C,Fa:D}={}){this.__parent.__construct.call(this),this.Na=l,l=l+1&2147483647||1,this.Aa=C,this.Fa=D},__destruct:function(){this.Ma&&(B.yb(this.Ma),URL.revokeObjectURL(this.Va)),this.__parent.__destruct.call(this)},decode:function(C){var D=this;D.Fa&&D.Fa(D);var le=new Image;D.Va=URL.createObjectURL(new Blob([C],{type:"image/png"})),le.src=D.Va,le.onload=function(){D.qb=le,D.Ma=B.wb(le),D.size(le.width,le.height),D.Aa&&D.Aa(D)}}}),M=u.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.pa=new Path2D},rewind:function(){this.pa=new Path2D},addPath:function(C,D,le,ce,ee,fe,de){var ye=this.pa,xe=ye.addPath;C=C.pa;const Ce=new DOMMatrix;Ce.a=D,Ce.b=le,Ce.c=ce,Ce.d=ee,Ce.e=fe,Ce.f=de,xe.call(ye,C,Ce)},fillRule:function(C){this.Ua=C},moveTo:function(C,D){this.pa.moveTo(C,D)},lineTo:function(C,D){this.pa.lineTo(C,D)},cubicTo:function(C,D,le,ce,ee,fe){this.pa.bezierCurveTo(C,D,le,ce,ee,fe)},close:function(){this.pa.closePath()}}),pe=c.extend("CanvasRenderPaint",{color:function(C){this.Wa=e(C)},thickness:function(C){this.tb=C},join:function(C){switch(C){case A.miter:this.La="miter";break;case A.round:this.La="round";break;case A.bevel:this.La="bevel"}},cap:function(C){switch(C){case m.butt:this.Ka="butt";break;case m.round:this.Ka="round";break;case m.square:this.Ka="square"}},style:function(C){this.sb=C},blendMode:function(C){this.pb=t(C)},clearGradient:function(){this.za=null},linearGradient:function(C,D,le,ce){this.za={mb:C,nb:D,ab:le,bb:ce,Qa:[]}},radialGradient:function(C,D,le,ce){this.za={mb:C,nb:D,ab:le,bb:ce,Qa:[],Mb:!0}},addStop:function(C,D){this.za.Qa.push({color:C,stop:D})},completeGradient:function(){},draw:function(C,D,le){let ce=this.sb;var ee=this.Wa,fe=this.za;if(C.globalCompositeOperation=this.pb,fe!=null){ee=fe.mb;var de=fe.nb;const xe=fe.ab;var ye=fe.bb;const Ce=fe.Qa;fe.Mb?(fe=xe-ee,ye-=de,ee=C.createRadialGradient(ee,de,0,ee,de,Math.sqrt(fe*fe+ye*ye))):ee=C.createLinearGradient(ee,de,xe,ye);for(let Ve=0,Me=Ce.length;Ve<Me;Ve++)de=Ce[Ve],ee.addColorStop(de.stop,e(de.color));this.Wa=ee,this.za=null}switch(ce){case x:C.strokeStyle=ee,C.lineWidth=this.tb,C.lineCap=this.Ka,C.lineJoin=this.La,C.stroke(D);break;case F:C.fillStyle=ee,C.fill(D,le)}}});const he=new Set;let k=null,Ae=[],Le=0,Xe=0;var it=s.CanvasRenderer=y.extend("Renderer",{__construct:function(C){this.__parent.__construct.call(this),this.oa=[1,0,0,1,0,0],this.ha=C.getContext("2d"),this.Ta=C,this.ja=[]},save:function(){this.oa.push(...this.oa.slice(this.oa.length-6)),this.ja.push(this.ha.save.bind(this.ha))},restore:function(){const C=this.oa.length-6;if(6>C)throw"restore() called without matching save().";this.oa.splice(C),this.ja.push(this.ha.restore.bind(this.ha))},transform:function(C,D,le,ce,ee,fe){const de=this.oa,ye=de.length-6;de.splice(ye,6,de[ye]*C+de[ye+2]*D,de[ye+1]*C+de[ye+3]*D,de[ye]*le+de[ye+2]*ce,de[ye+1]*le+de[ye+3]*ce,de[ye]*ee+de[ye+2]*fe+de[ye+4],de[ye+1]*ee+de[ye+3]*fe+de[ye+5]),this.ja.push(this.ha.transform.bind(this.ha,C,D,le,ce,ee,fe))},rotate:function(C){const D=Math.sin(C);C=Math.cos(C),this.transform(C,D,-D,C,0,0)},_drawPath:function(C,D){this.ja.push(D.draw.bind(D,this.ha,C.pa,C.Ua===q?"evenodd":"nonzero"))},_drawRiveImage:function(C,D,le){var ce=C.qb;if(ce){var ee=this.ha,fe=t(D);this.ja.push(function(){ee.globalCompositeOperation=fe,ee.globalAlpha=le,ee.drawImage(ce,0,0),ee.globalAlpha=1})}},_getMatrix:function(C){const D=this.oa,le=D.length-6;for(let ce=0;6>ce;++ce)C[ce]=D[le+ce]},_drawImageMesh:function(C,D,le,ce,ee,fe,de,ye,xe,Ce){var Ve=this.ha.canvas.width,Me=this.ha.canvas.height;const $n=xe-de,Vn=Ce-ye;de=Math.max(de,0),ye=Math.max(ye,0),xe=Math.min(xe,Ve),Ce=Math.min(Ce,Me);const wt=xe-de,_t=Ce-ye;if(console.assert(wt<=Math.min($n,Ve)),console.assert(_t<=Math.min(Vn,Me)),!(0>=wt||0>=_t)){xe=wt<$n||_t<Vn,Ve=Ce=1;var at=Math.ceil(wt*Ce),ot=Math.ceil(_t*Ve);Me=B.Ob(),at>Me&&(Ce*=Me/at,at=Me),ot>Me&&(Ve*=Me/ot,ot=Me),k||(k=new s.DynamicRectanizer(Me),k.reset(512,512)),Me=k.addRect(at,ot),0>Me&&(r(),he.add(this),Me=k.addRect(at,ot),console.assert(0<=Me));var Hn=Me&65535,Gn=Me>>16;Ae.push({xa:this.oa.slice(this.oa.length-6),image:C,Xa:Hn,Ya:Gn,Pb:de,Qb:ye,bc:at,fb:ot,Ga:Ce,Ha:Ve,Sa:new Float32Array(ce),ob:new Float32Array(ee),indices:new Uint16Array(fe),Rb:xe,lb:C.Na<<1|(xe?1:0)}),Le+=ce.length,Xe+=fe.length;var dt=this.ha,Fr=t(D);this.ja.push(function(){dt.save(),dt.resetTransform(),dt.globalCompositeOperation=Fr,dt.globalAlpha=le;const qn=B.canvas();qn&&dt.drawImage(qn,Hn,Gn,at,ot,de,ye,wt,_t),dt.restore()})}},_clipPath:function(C){this.ja.push(this.ha.clip.bind(this.ha,C.pa,C.Ua===q?"evenodd":"nonzero"))},clear:function(){he.add(this),this.ja.push(this.ha.clearRect.bind(this.ha,0,0,this.Ta.width,this.Ta.height))},flush:function(){},translate:function(C,D){this.transform(1,0,0,1,C,D)}});s.makeRenderer=function(C){const D=new it(C),le=D.ha;return new Proxy(D,{get(ce,ee){if(typeof ce[ee]=="function")return function(...fe){return ce[ee].apply(ce,fe)};if(typeof le[ee]=="function"){if(-1<me.indexOf(ee))throw Error("RiveException: Method call to '"+ee+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...fe){D.ja.push(le[ee].bind(le,...fe))}}return ce[ee]},set(ce,ee,fe){if(ee in le)return le[ee]=fe,!0}})},s.decodeImage=function(C,D){new S({Aa:D}).decode(C)},s.renderFactory={makeRenderPaint:function(){return new pe},makeRenderPath:function(){return new M},makeRenderImage:function(){let C=$e;return new S({Fa:()=>{C.total++},Aa:()=>{if(C.loaded++,C.loaded===C.total){const D=C.ready;D&&(D(),C.ready=null)}}})}};let ue=s.load,$e=null;s.load=function(C,D,le=!0){const ce=new s.FallbackFileAssetLoader;return D!==void 0&&ce.addLoader(D),le&&(D=new s.CDNFileAssetLoader,ce.addLoader(D)),new Promise(function(ee){let fe=null;$e={total:0,loaded:0,ready:function(){ee(fe)}},fe=ue(C,ce),$e.total==0&&ee(fe)})},i=new K,s.requestAnimationFrame=i.requestAnimationFrame.bind(i),s.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),s.enableFPSCounter=i.Db.bind(i),s.disableFPSCounter=i.Ab,i.hb=r,s.cleanup=function(){k&&k.delete()}};const j=s.onRuntimeInitialized;s.onRuntimeInitialized=function(){j&&j();let t=s.decodeFont;s.decodeFont=function(r,i){r=t(r),i(r)};const e=s.FileAssetLoader;s.ptrToAsset=r=>{let i=s.ptrToFileAsset(r);return i.isImage?s.ptrToImageAsset(r):i.isFont?s.ptrToFontAsset(r):i},s.CustomFileAssetLoader=e.extend("CustomFileAssetLoader",{__construct:function({loadContents:r}){this.__parent.__construct.call(this),this.rb=r},loadContents:function(r,i){return r=s.ptrToAsset(r),this.rb(r,i)}}),s.CDNFileAssetLoader=e.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(r){let i=s.ptrToAsset(r);return r=i.cdnUuid,r===""?!1:(function(u,c){var y=new XMLHttpRequest;y.responseType="arraybuffer",y.onreadystatechange=function(){y.readyState==4&&y.status==200&&c(y)},y.open("GET",u,!0),y.send(null)}(i.cdnBaseUrl+"/"+r,u=>{i.decode(new Uint8Array(u.response))}),!0)}}),s.FallbackFileAssetLoader=e.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.gb=[]},addLoader:function(r){this.gb.push(r)},loadContents:function(r,i){for(let u of this.gb)if(u.loadContents(r,i))return!0;return!1}})};var te=Object.assign({},s),we="./this.program",Z=typeof window=="object",_e=typeof importScripts=="function",ie="",ve,ge;(Z||_e)&&(_e?ie=self.location.href:typeof document<"u"&&document.currentScript&&(ie=document.currentScript.src),Q&&(ie=Q),ie.indexOf("blob:")!==0?ie=ie.substr(0,ie.replace(/[?#].*/,"").lastIndexOf("/")+1):ie="",_e&&(ge=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),ve=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var se=s.print||console.log.bind(console),$=s.printErr||console.error.bind(console);Object.assign(s,te),te=null,s.thisProgram&&(we=s.thisProgram);var o;s.wasmBinary&&(o=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&nt("no native wasm support detected");var n,a,f=!1,_,T,L,N,G,O,ae,Te;function Pe(){var t=n.buffer;s.HEAP8=_=new Int8Array(t),s.HEAP16=L=new Int16Array(t),s.HEAP32=G=new Int32Array(t),s.HEAPU8=T=new Uint8Array(t),s.HEAPU16=N=new Uint16Array(t),s.HEAPU32=O=new Uint32Array(t),s.HEAPF32=ae=new Float32Array(t),s.HEAPF64=Te=new Float64Array(t)}var Ee,je=[],Ue=[],lt=[];function Mt(){var t=s.preRun.shift();je.unshift(t)}var We=0,Ze=null;function nt(t){throw s.onAbort&&s.onAbort(t),t="Aborted("+t+")",$(t),f=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),H(t),t}function et(t){return t.startsWith("data:application/octet-stream;base64,")}var Be;if(Be="canvas_advanced.wasm",!et(Be)){var qe=Be;Be=s.locateFile?s.locateFile(qe,ie):ie+qe}function yn(t){if(t==Be&&o)return new Uint8Array(o);if(ge)return ge(t);throw"both async and sync fetching of the wasm failed"}function or(t){if(!o&&(Z||_e)){if(typeof fetch=="function"&&!t.startsWith("file://"))return fetch(t,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()}).catch(()=>yn(t));if(ve)return new Promise((e,r)=>{ve(t,i=>e(new Uint8Array(i)),r)})}return Promise.resolve().then(()=>yn(t))}function bn(t,e,r){return or(t).then(i=>WebAssembly.instantiate(i,e)).then(i=>i).then(r,i=>{$("failed to asynchronously prepare wasm: "+i),nt(i)})}function sr(t,e){var r=Be;return o||typeof WebAssembly.instantiateStreaming!="function"||et(r)||r.startsWith("file://")||typeof fetch!="function"?bn(r,t,e):fetch(r,{credentials:"same-origin"}).then(i=>WebAssembly.instantiateStreaming(i,t).then(e,function(u){return $("wasm streaming compile failed: "+u),$("falling back to ArrayBuffer instantiation"),bn(r,t,e)}))}var en=t=>{for(;0<t.length;)t.shift()(s)};function wn(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?`_${t}`:t}function Lt(t,e){return t=wn(t),{[t]:function(){return e.apply(this,arguments)}}[t]}function _n(){this.qa=[void 0],this.eb=[]}var Oe=new _n,ct=void 0;function J(t){throw new ct(t)}var De=t=>(t||J("Cannot use deleted val. handle = "+t),Oe.get(t).value),Ye=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Oe.ub({kb:1,value:t})}};function An(t){var e=Error,r=Lt(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var En=void 0,Rn=void 0;function Re(t){for(var e="";T[t];)e+=Rn[T[t++]];return e}var mt=[];function tn(){for(;mt.length;){var t=mt.pop();t.ba.wa=!1,t.delete()}}var vt=void 0,ze={};function nn(t,e){for(e===void 0&&J("ptr should not be undefined");t.fa;)e=t.Ba(e),t=t.fa;return e}var rt={};function Tn(t){t=Nn(t);var e=Re(t);return Je(t),e}function gt(t,e){var r=rt[t];return r===void 0&&J(e+" has unknown type "+Tn(t)),r}function St(){}var rn=!1;function Cn(t){--t.count.value,t.count.value===0&&(t.ia?t.la.ra(t.ia):t.ea.ca.ra(t.da))}function Pn(t,e,r){return e===r?t:r.fa===void 0?null:(t=Pn(t,e,r.fa),t===null?null:r.Bb(t))}var Mn={};function ur(t,e){return e=nn(t,e),ze[e]}var Ln=void 0;function Ft(t){throw new Ln(t)}function It(t,e){return e.ea&&e.da||Ft("makeClassHandle requires ptr and ptrType"),!!e.la!=!!e.ia&&Ft("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ht(Object.create(t,{ba:{value:e}}))}function ht(t){return typeof FinalizationRegistry>"u"?(ht=e=>e,t):(rn=new FinalizationRegistry(e=>{Cn(e.ba)}),ht=e=>{var r=e.ba;return r.ia&&rn.register(e,{ba:r},e),e},St=e=>{rn.unregister(e)},ht(t))}var Ot={};function yt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function bt(t){return this.fromWireType(G[t>>2])}var ft={},xt={};function Ie(t,e,r){function i(m){m=r(m),m.length!==t.length&&Ft("Mismatched type converter count");for(var A=0;A<t.length;++A)Ne(t[A],m[A])}t.forEach(function(m){xt[m]=e});var u=Array(e.length),c=[],y=0;e.forEach((m,A)=>{rt.hasOwnProperty(m)?u[A]=rt[m]:(c.push(m),ft.hasOwnProperty(m)||(ft[m]=[]),ft[m].push(()=>{u[A]=rt[m],++y,y===c.length&&i(u)}))}),c.length===0&&i(u)}function kt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${t}`)}}function lr(t,e,r={}){var i=e.name;if(t||J(`type "${i}" must have a positive integer typeid pointer`),rt.hasOwnProperty(t)){if(r.Lb)return;J(`Cannot register type '${i}' twice`)}rt[t]=e,delete xt[t],ft.hasOwnProperty(t)&&(e=ft[t],delete ft[t],e.forEach(u=>u()))}function Ne(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");lr(t,e,r)}function an(t){J(t.ba.ea.ca.name+" instance already deleted")}function tt(){}function on(t,e,r){if(t[e].ga===void 0){var i=t[e];t[e]=function(){return t[e].ga.hasOwnProperty(arguments.length)||J(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${t[e].ga})!`),t[e].ga[arguments.length].apply(this,arguments)},t[e].ga=[],t[e].ga[i.va]=i}}function sn(t,e,r){s.hasOwnProperty(t)?((r===void 0||s[t].ga!==void 0&&s[t].ga[r]!==void 0)&&J(`Cannot register public name '${t}' twice`),on(s,t,t),s.hasOwnProperty(r)&&J(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),s[t].ga[r]=e):(s[t]=e,r!==void 0&&(s[t].cc=r))}function cr(t,e,r,i,u,c,y,m){this.name=t,this.constructor=e,this.ma=r,this.ra=i,this.fa=u,this.Gb=c,this.Ba=y,this.Bb=m,this.ib=[]}function Dt(t,e,r){for(;e!==r;)e.Ba||J(`Expected null or instance of ${r.name}, got an instance of ${e.name}`),t=e.Ba(t),e=e.fa;return t}function hr(t,e){return e===null?(this.Oa&&J(`null is not a valid ${this.name}`),0):(e.ba||J(`Cannot pass "${ln(e)}" as a ${this.name}`),e.ba.da||J(`Cannot pass deleted object as a pointer of type ${this.name}`),Dt(e.ba.da,e.ba.ea.ca,this.ca))}function fr(t,e){if(e===null){if(this.Oa&&J(`null is not a valid ${this.name}`),this.Ea){var r=this.Pa();return t!==null&&t.push(this.ra,r),r}return 0}if(e.ba||J(`Cannot pass "${ln(e)}" as a ${this.name}`),e.ba.da||J(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.Da&&e.ba.ea.Da&&J(`Cannot convert argument of type ${e.ba.la?e.ba.la.name:e.ba.ea.name} to parameter type ${this.name}`),r=Dt(e.ba.da,e.ba.ea.ca,this.ca),this.Ea)switch(e.ba.ia===void 0&&J("Passing raw pointer to smart pointer is illegal"),this.Xb){case 0:e.ba.la===this?r=e.ba.ia:J(`Cannot convert argument of type ${e.ba.la?e.ba.la.name:e.ba.ea.name} to parameter type ${this.name}`);break;case 1:r=e.ba.ia;break;case 2:if(e.ba.la===this)r=e.ba.ia;else{var i=e.clone();r=this.Tb(r,Ye(function(){i.delete()})),t!==null&&t.push(this.ra,r)}break;default:J("Unsupporting sharing policy")}return r}function dr(t,e){return e===null?(this.Oa&&J(`null is not a valid ${this.name}`),0):(e.ba||J(`Cannot pass "${ln(e)}" as a ${this.name}`),e.ba.da||J(`Cannot pass deleted object as a pointer of type ${this.name}`),e.ba.ea.Da&&J(`Cannot convert argument of type ${e.ba.ea.name} to parameter type ${this.name}`),Dt(e.ba.da,e.ba.ea.ca,this.ca))}function Qe(t,e,r,i){this.name=t,this.ca=e,this.Oa=r,this.Da=i,this.Ea=!1,this.ra=this.Tb=this.Pa=this.jb=this.Xb=this.Sb=void 0,e.fa!==void 0?this.toWireType=fr:(this.toWireType=i?hr:dr,this.ka=null)}function Sn(t,e,r){s.hasOwnProperty(t)||Ft("Replacing nonexistant public symbol"),s[t].ga!==void 0&&r!==void 0?s[t].ga[r]=e:(s[t]=e,s[t].va=r)}var pr=(t,e)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=s["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=Ee.get(e).apply(null,r);return i}};function Fe(t,e){t=Re(t);var r=t.includes("j")?pr(t,e):Ee.get(e);return typeof r!="function"&&J(`unknown function pointer with signature ${t}: ${e}`),r}var Fn=void 0;function Ke(t,e){function r(c){u[c]||rt[c]||(xt[c]?xt[c].forEach(r):(i.push(c),u[c]=!0))}var i=[],u={};throw e.forEach(r),new Fn(`${t}: `+i.map(Tn).join([", "]))}function jt(t,e,r,i,u){var c=e.length;2>c&&J("argTypes array size mismatch! Must at least get return value and 'this' types!");var y=e[1]!==null&&r!==null,m=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ka===void 0){m=!0;break}var A=e[0].name!=="void",d=c-2,F=Array(d),x=[],q=[];return function(){if(arguments.length!==d&&J(`function ${t} called with ${arguments.length} arguments, expected ${d} args!`),q.length=0,x.length=y?2:1,x[0]=u,y){var l=e[1].toWireType(q,this);x[1]=l}for(var S=0;S<d;++S)F[S]=e[S+2].toWireType(q,arguments[S]),x.push(F[S]);if(S=i.apply(null,x),m)yt(q);else for(var M=y?1:2;M<e.length;M++){var pe=M===1?l:F[M-2];e[M].ka!==null&&e[M].ka(pe)}return l=A?e[0].fromWireType(S):void 0,l}}function Ut(t,e){for(var r=[],i=0;i<t;i++)r.push(O[e+4*i>>2]);return r}function In(t,e,r){return t instanceof Object||J(`${r} with invalid "this": ${t}`),t instanceof e.ca.constructor||J(`${r} incompatible with "this" of type ${t.constructor.name}`),t.ba.da||J(`cannot call emscripten binding method ${r} on deleted object`),Dt(t.ba.da,t.ba.ea.ca,e.ca)}function un(t){t>=Oe.Za&&--Oe.get(t).kb===0&&Oe.xb(t)}function mr(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?_:T)[i])};case 1:return function(i){return this.fromWireType((r?L:N)[i>>1])};case 2:return function(i){return this.fromWireType((r?G:O)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function ln(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function vr(t,e){switch(e){case 2:return function(r){return this.fromWireType(ae[r>>2])};case 3:return function(r){return this.fromWireType(Te[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function gr(t,e,r){switch(e){case 0:return r?function(i){return _[i]}:function(i){return T[i]};case 1:return r?function(i){return L[i>>1]}:function(i){return N[i>>1]};case 2:return r?function(i){return G[i>>2]}:function(i){return O[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var On=(t,e,r,i)=>{if(0<i){i=r+i-1;for(var u=0;u<t.length;++u){var c=t.charCodeAt(u);if(55296<=c&&57343>=c){var y=t.charCodeAt(++u);c=65536+((c&1023)<<10)|y&1023}if(127>=c){if(r>=i)break;e[r++]=c}else{if(2047>=c){if(r+1>=i)break;e[r++]=192|c>>6}else{if(65535>=c){if(r+2>=i)break;e[r++]=224|c>>12}else{if(r+3>=i)break;e[r++]=240|c>>18,e[r++]=128|c>>12&63}e[r++]=128|c>>6&63}e[r++]=128|c&63}}e[r]=0}},xn=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);127>=i?e++:2047>=i?e+=2:55296<=i&&57343>=i?(e+=4,++r):e+=3}return e},kn=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Wt=(t,e,r)=>{var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&kn)return kn.decode(t.subarray(e,r));for(i="";e<r;){var u=t[e++];if(u&128){var c=t[e++]&63;if((u&224)==192)i+=String.fromCharCode((u&31)<<6|c);else{var y=t[e++]&63;u=(u&240)==224?(u&15)<<12|c<<6|y:(u&7)<<18|c<<12|y<<6|t[e++]&63,65536>u?i+=String.fromCharCode(u):(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023))}}else i+=String.fromCharCode(u)}return i},Dn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,yr=(t,e)=>{for(var r=t>>1,i=r+e/2;!(r>=i)&&N[r];)++r;if(r<<=1,32<r-t&&Dn)return Dn.decode(T.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var u=L[t+2*i>>1];if(u==0)break;r+=String.fromCharCode(u)}return r},br=(t,e,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var u=0;u<r;++u)L[e>>1]=t.charCodeAt(u),e+=2;return L[e>>1]=0,e-i},wr=t=>2*t.length,_r=(t,e)=>{for(var r=0,i="";!(r>=e/4);){var u=G[t+4*r>>2];if(u==0)break;++r,65536<=u?(u-=65536,i+=String.fromCharCode(55296|u>>10,56320|u&1023)):i+=String.fromCharCode(u)}return i},Ar=(t,e,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var u=0;u<t.length;++u){var c=t.charCodeAt(u);if(55296<=c&&57343>=c){var y=t.charCodeAt(++u);c=65536+((c&1023)<<10)|y&1023}if(G[e>>2]=c,e+=4,e+4>r)break}return G[e>>2]=0,e-i},Er=t=>{for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e},Rr={};function Bt(t){var e=Rr[t];return e===void 0?Re(t):e}var Yt=[];function Tr(t){var e=Yt.length;return Yt.push(t),e}function Cr(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=gt(O[e+4*i>>2],"parameter "+i);return r}var jn=[],cn={},Un=()=>{if(!hn){var t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:we||"./this.program"},e;for(e in cn)cn[e]===void 0?delete t[e]:t[e]=cn[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);hn=r}return hn},hn,Pr=[null,[],[]],Nt=t=>t%4===0&&(t%100!==0||t%400===0),Wn=[31,29,31,30,31,30,31,31,30,31,30,31],Bn=[31,28,31,30,31,30,31,31,30,31,30,31];function Mr(t){var e=Array(xn(t)+1);return On(t,e,0,e.length),e}var Lr=(t,e,r,i)=>{function u(l,S,M){for(l=typeof l=="number"?l.toString():l||"";l.length<S;)l=M[0]+l;return l}function c(l,S){return u(l,S,"0")}function y(l,S){function M(he){return 0>he?-1:0<he?1:0}var pe;return(pe=M(l.getFullYear()-S.getFullYear()))===0&&(pe=M(l.getMonth()-S.getMonth()))===0&&(pe=M(l.getDate()-S.getDate())),pe}function m(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function A(l){var S=l.ta;for(l=new Date(new Date(l.ua+1900,0,1).getTime());0<S;){var M=l.getMonth(),pe=(Nt(l.getFullYear())?Wn:Bn)[M];if(S>pe-l.getDate())S-=pe-l.getDate()+1,l.setDate(1),11>M?l.setMonth(M+1):(l.setMonth(0),l.setFullYear(l.getFullYear()+1));else{l.setDate(l.getDate()+S);break}}return M=new Date(l.getFullYear()+1,0,4),S=m(new Date(l.getFullYear(),0,4)),M=m(M),0>=y(S,l)?0>=y(M,l)?l.getFullYear()+1:l.getFullYear():l.getFullYear()-1}var d=G[i+40>>2];i={$b:G[i>>2],Zb:G[i+4>>2],Ia:G[i+8>>2],Ra:G[i+12>>2],Ja:G[i+16>>2],ua:G[i+20>>2],na:G[i+24>>2],ta:G[i+28>>2],dc:G[i+32>>2],Yb:G[i+36>>2],ac:d&&d?Wt(T,d):""},r=r?Wt(T,r):"",d={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var F in d)r=r.replace(new RegExp(F,"g"),d[F]);var x="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),q="January February March April May June July August September October November December".split(" ");d={"%a":l=>x[l.na].substring(0,3),"%A":l=>x[l.na],"%b":l=>q[l.Ja].substring(0,3),"%B":l=>q[l.Ja],"%C":l=>c((l.ua+1900)/100|0,2),"%d":l=>c(l.Ra,2),"%e":l=>u(l.Ra,2," "),"%g":l=>A(l).toString().substring(2),"%G":l=>A(l),"%H":l=>c(l.Ia,2),"%I":l=>(l=l.Ia,l==0?l=12:12<l&&(l-=12),c(l,2)),"%j":l=>{for(var S=0,M=0;M<=l.Ja-1;S+=(Nt(l.ua+1900)?Wn:Bn)[M++]);return c(l.Ra+S,3)},"%m":l=>c(l.Ja+1,2),"%M":l=>c(l.Zb,2),"%n":()=>`
`,"%p":l=>0<=l.Ia&&12>l.Ia?"AM":"PM","%S":l=>c(l.$b,2),"%t":()=>"	","%u":l=>l.na||7,"%U":l=>c(Math.floor((l.ta+7-l.na)/7),2),"%V":l=>{var S=Math.floor((l.ta+7-(l.na+6)%7)/7);if(2>=(l.na+371-l.ta-2)%7&&S++,S)S==53&&(M=(l.na+371-l.ta)%7,M==4||M==3&&Nt(l.ua)||(S=1));else{S=52;var M=(l.na+7-l.ta-1)%7;(M==4||M==5&&Nt(l.ua%400-1))&&S++}return c(S,2)},"%w":l=>l.na,"%W":l=>c(Math.floor((l.ta+7-(l.na+6)%7)/7),2),"%y":l=>(l.ua+1900).toString().substring(2),"%Y":l=>l.ua+1900,"%z":l=>{l=l.Yb;var S=0<=l;return l=Math.abs(l)/60,(S?"+":"-")+("0000"+(l/60*100+l%60)).slice(-4)},"%Z":l=>l.ac,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(F in d)r.includes(F)&&(r=r.replace(new RegExp(F,"g"),d[F](i)));return r=r.replace(/\0\0/g,"%"),F=Mr(r),F.length>e?0:(_.set(F,t),F.length-1)};Object.assign(_n.prototype,{get(t){return this.qa[t]},has(t){return this.qa[t]!==void 0},ub(t){var e=this.eb.pop()||this.qa.length;return this.qa[e]=t,e},xb(t){this.qa[t]=void 0,this.eb.push(t)}}),ct=s.BindingError=class extends Error{constructor(t){super(t),this.name="BindingError"}},Oe.qa.push({value:void 0},{value:null},{value:!0},{value:!1}),Oe.Za=Oe.qa.length,s.count_emval_handles=function(){for(var t=0,e=Oe.Za;e<Oe.qa.length;++e)Oe.qa[e]!==void 0&&++t;return t},En=s.PureVirtualError=An("PureVirtualError");for(var Yn=Array(256),Xt=0;256>Xt;++Xt)Yn[Xt]=String.fromCharCode(Xt);Rn=Yn,s.getInheritedInstanceCount=function(){return Object.keys(ze).length},s.getLiveInheritedInstances=function(){var t=[],e;for(e in ze)ze.hasOwnProperty(e)&&t.push(ze[e]);return t},s.flushPendingDeletes=tn,s.setDelayFunction=function(t){vt=t,mt.length&&vt&&vt(tn)},Ln=s.InternalError=class extends Error{constructor(t){super(t),this.name="InternalError"}},tt.prototype.isAliasOf=function(t){if(!(this instanceof tt&&t instanceof tt))return!1;var e=this.ba.ea.ca,r=this.ba.da,i=t.ba.ea.ca;for(t=t.ba.da;e.fa;)r=e.Ba(r),e=e.fa;for(;i.fa;)t=i.Ba(t),i=i.fa;return e===i&&r===t},tt.prototype.clone=function(){if(this.ba.da||an(this),this.ba.ya)return this.ba.count.value+=1,this;var t=ht,e=Object,r=e.create,i=Object.getPrototypeOf(this),u=this.ba;return t=t(r.call(e,i,{ba:{value:{count:u.count,wa:u.wa,ya:u.ya,da:u.da,ea:u.ea,ia:u.ia,la:u.la}}})),t.ba.count.value+=1,t.ba.wa=!1,t},tt.prototype.delete=function(){this.ba.da||an(this),this.ba.wa&&!this.ba.ya&&J("Object already scheduled for deletion"),St(this),Cn(this.ba),this.ba.ya||(this.ba.ia=void 0,this.ba.da=void 0)},tt.prototype.isDeleted=function(){return!this.ba.da},tt.prototype.deleteLater=function(){return this.ba.da||an(this),this.ba.wa&&!this.ba.ya&&J("Object already scheduled for deletion"),mt.push(this),mt.length===1&&vt&&vt(tn),this.ba.wa=!0,this},Qe.prototype.Hb=function(t){return this.jb&&(t=this.jb(t)),t},Qe.prototype.$a=function(t){this.ra&&this.ra(t)},Qe.prototype.argPackAdvance=8,Qe.prototype.readValueFromPointer=bt,Qe.prototype.deleteObject=function(t){t!==null&&t.delete()},Qe.prototype.fromWireType=function(t){function e(){return this.Ea?It(this.ca.ma,{ea:this.Sb,da:r,la:this,ia:t}):It(this.ca.ma,{ea:this,da:t})}var r=this.Hb(t);if(!r)return this.$a(t),null;var i=ur(this.ca,r);if(i!==void 0)return i.ba.count.value===0?(i.ba.da=r,i.ba.ia=t,i.clone()):(i=i.clone(),this.$a(t),i);if(i=this.ca.Gb(r),i=Mn[i],!i)return e.call(this);i=this.Da?i.vb:i.pointerType;var u=Pn(r,this.ca,i.ca);return u===null?e.call(this):this.Ea?It(i.ca.ma,{ea:i,da:u,la:this,ia:t}):It(i.ca.ma,{ea:i,da:u})},Fn=s.UnboundTypeError=An("UnboundTypeError");var Sr={N:function(t,e,r){t=Re(t),e=gt(e,"wrapper"),r=De(r);var i=[].slice,u=e.ca,c=u.ma,y=u.fa.ma,m=u.fa.constructor;t=Lt(t,function(){u.fa.ib.forEach((function(d){if(this[d]===y[d])throw new En(`Pure virtual function ${d} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:c}),this.__construct.apply(this,i.call(arguments))}),c.__construct=function(){this===c&&J("Pass correct 'this' to __construct");var d=m.implement.apply(void 0,[this].concat(i.call(arguments)));St(d);var F=d.ba;d.notifyOnDestruction(),F.ya=!0,Object.defineProperties(this,{ba:{value:F}}),ht(this),d=F.da,d=nn(u,d),ze.hasOwnProperty(d)?J(`Tried to register registered instance: ${d}`):ze[d]=this},c.__destruct=function(){this===c&&J("Pass correct 'this' to __destruct"),St(this);var d=this.ba.da;d=nn(u,d),ze.hasOwnProperty(d)?delete ze[d]:J(`Tried to unregister unregistered instance: ${d}`)},t.prototype=Object.create(c);for(var A in r)t.prototype[A]=r[A];return Ye(t)},O:function(t){var e=Ot[t];delete Ot[t];var r=e.Pa,i=e.ra,u=e.cb,c=u.map(y=>y.Kb).concat(u.map(y=>y.Vb));Ie([t],c,y=>{var m={};return u.forEach((A,d)=>{var F=y[d],x=A.Ib,q=A.Jb,l=y[d+u.length],S=A.Ub,M=A.Wb;m[A.Eb]={read:pe=>F.fromWireType(x(q,pe)),write:(pe,he)=>{var k=[];S(M,pe,l.toWireType(k,he)),yt(k)}}}),[{name:e.name,fromWireType:function(A){var d={},F;for(F in m)d[F]=m[F].read(A);return i(A),d},toWireType:function(A,d){for(var F in m)if(!(F in d))throw new TypeError(`Missing field: "${F}"`);var x=r();for(F in m)m[F].write(x,d[F]);return A!==null&&A.push(i,x),x},argPackAdvance:8,readValueFromPointer:bt,ka:i}]})},C:function(){},K:function(t,e,r,i,u){var c=kt(r);e=Re(e),Ne(t,{name:e,fromWireType:function(y){return!!y},toWireType:function(y,m){return m?i:u},argPackAdvance:8,readValueFromPointer:function(y){if(r===1)var m=_;else if(r===2)m=L;else if(r===4)m=G;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(m[y>>c])},ka:null})},f:function(t,e,r,i,u,c,y,m,A,d,F,x,q){F=Re(F),c=Fe(u,c),m&&(m=Fe(y,m)),d&&(d=Fe(A,d)),q=Fe(x,q);var l=wn(F);sn(l,function(){Ke(`Cannot construct ${F} due to unbound types`,[i])}),Ie([t,e,r],i?[i]:[],function(S){if(S=S[0],i)var M=S.ca,pe=M.ma;else pe=tt.prototype;S=Lt(l,function(){if(Object.getPrototypeOf(this)!==he)throw new ct("Use 'new' to construct "+F);if(k.sa===void 0)throw new ct(F+" has no accessible constructor");var Le=k.sa[arguments.length];if(Le===void 0)throw new ct(`Tried to invoke ctor of ${F} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(k.sa).toString()}) parameters instead!`);return Le.apply(this,arguments)});var he=Object.create(pe,{constructor:{value:S}});S.prototype=he;var k=new cr(F,S,he,q,M,c,m,d);k.fa&&(k.fa.Ca===void 0&&(k.fa.Ca=[]),k.fa.Ca.push(k)),M=new Qe(F,k,!0,!1),pe=new Qe(F+"*",k,!1,!1);var Ae=new Qe(F+" const*",k,!1,!0);return Mn[t]={pointerType:pe,vb:Ae},Sn(l,S),[M,pe,Ae]})},j:function(t,e,r,i,u,c,y){var m=Ut(r,i);e=Re(e),c=Fe(u,c),Ie([],[t],function(A){function d(){Ke(`Cannot call ${F} due to unbound types`,m)}A=A[0];var F=`${A.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var x=A.ca.constructor;return x[e]===void 0?(d.va=r-1,x[e]=d):(on(x,e,F),x[e].ga[r-1]=d),Ie([],m,function(q){if(q=jt(F,[q[0],null].concat(q.slice(1)),null,c,y),x[e].ga===void 0?(q.va=r-1,x[e]=q):x[e].ga[r-1]=q,A.ca.Ca)for(const l of A.ca.Ca)l.constructor.hasOwnProperty(e)||(l.constructor[e]=q);return[]}),[]})},x:function(t,e,r,i,u,c,y,m){e=Re(e),c=Fe(u,c),Ie([],[t],function(A){A=A[0];var d=`${A.name}.${e}`,F={get(){Ke(`Cannot access ${d} due to unbound types`,[r])},enumerable:!0,configurable:!0};return F.set=m?()=>{Ke(`Cannot access ${d} due to unbound types`,[r])}:()=>{J(`${d} is a read-only property`)},Object.defineProperty(A.ca.constructor,e,F),Ie([],[r],function(x){x=x[0];var q={get(){return x.fromWireType(c(i))},enumerable:!0};return m&&(m=Fe(y,m),q.set=l=>{var S=[];m(i,x.toWireType(S,l)),yt(S)}),Object.defineProperty(A.ca.constructor,e,q),[]}),[]})},s:function(t,e,r,i,u,c){var y=Ut(e,r);u=Fe(i,u),Ie([],[t],function(m){m=m[0];var A=`constructor ${m.name}`;if(m.ca.sa===void 0&&(m.ca.sa=[]),m.ca.sa[e-1]!==void 0)throw new ct(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${m.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return m.ca.sa[e-1]=()=>{Ke(`Cannot construct ${m.name} due to unbound types`,y)},Ie([],y,function(d){return d.splice(1,0,null),m.ca.sa[e-1]=jt(A,d,null,u,c),[]}),[]})},a:function(t,e,r,i,u,c,y,m){var A=Ut(r,i);e=Re(e),c=Fe(u,c),Ie([],[t],function(d){function F(){Ke(`Cannot call ${x} due to unbound types`,A)}d=d[0];var x=`${d.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),m&&d.ca.ib.push(e);var q=d.ca.ma,l=q[e];return l===void 0||l.ga===void 0&&l.className!==d.name&&l.va===r-2?(F.va=r-2,F.className=d.name,q[e]=F):(on(q,e,x),q[e].ga[r-2]=F),Ie([],A,function(S){return S=jt(x,S,d,c,y),q[e].ga===void 0?(S.va=r-2,q[e]=S):q[e].ga[r-2]=S,[]}),[]})},e:function(t,e,r,i,u,c,y,m,A,d){e=Re(e),u=Fe(i,u),Ie([],[t],function(F){F=F[0];var x=`${F.name}.${e}`,q={get(){Ke(`Cannot access ${x} due to unbound types`,[r,y])},enumerable:!0,configurable:!0};return q.set=A?()=>{Ke(`Cannot access ${x} due to unbound types`,[r,y])}:()=>{J(x+" is a read-only property")},Object.defineProperty(F.ca.ma,e,q),Ie([],A?[r,y]:[r],function(l){var S=l[0],M={get(){var he=In(this,F,x+" getter");return S.fromWireType(u(c,he))},enumerable:!0};if(A){A=Fe(m,A);var pe=l[1];M.set=function(he){var k=In(this,F,x+" setter"),Ae=[];A(d,k,pe.toWireType(Ae,he)),yt(Ae)}}return Object.defineProperty(F.ca.ma,e,M),[]}),[]})},J:function(t,e){e=Re(e),Ne(t,{name:e,fromWireType:function(r){var i=De(r);return un(r),i},toWireType:function(r,i){return Ye(i)},argPackAdvance:8,readValueFromPointer:bt,ka:null})},p:function(t,e,r,i){function u(){}r=kt(r),e=Re(e),u.values={},Ne(t,{name:e,constructor:u,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,y){return y.value},argPackAdvance:8,readValueFromPointer:mr(e,r,i),ka:null}),sn(e,u)},d:function(t,e,r){var i=gt(t,"enum");e=Re(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:Lt(`${i.name}_${e}`,function(){})}}),t.values[r]=i,t[e]=i},y:function(t,e,r){r=kt(r),e=Re(e),Ne(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,u){return u},argPackAdvance:8,readValueFromPointer:vr(e,r),ka:null})},m:function(t,e,r,i,u,c){var y=Ut(e,r);t=Re(t),u=Fe(i,u),sn(t,function(){Ke(`Cannot call ${t} due to unbound types`,y)},e-1),Ie([],y,function(m){return Sn(t,jt(t,[m[0],null].concat(m.slice(1)),null,u,c),e-1),[]})},l:function(t,e,r,i,u){e=Re(e),u===-1&&(u=4294967295),u=kt(r);var c=m=>m;if(i===0){var y=32-8*r;c=m=>m<<y>>>y}r=e.includes("unsigned")?function(m,A){return A>>>0}:function(m,A){return A},Ne(t,{name:e,fromWireType:c,toWireType:r,argPackAdvance:8,readValueFromPointer:gr(e,u,i!==0),ka:null})},g:function(t,e,r){function i(c){c>>=2;var y=O;return new u(y.buffer,y[c+1],y[c])}var u=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=Re(r),Ne(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{Lb:!0})},z:function(t,e){e=Re(e);var r=e==="std::string";Ne(t,{name:e,fromWireType:function(i){var u=O[i>>2],c=i+4;if(r)for(var y=c,m=0;m<=u;++m){var A=c+m;if(m==u||T[A]==0){if(y=y?Wt(T,y,A-y):"",d===void 0)var d=y;else d+=String.fromCharCode(0),d+=y;y=A+1}}else{for(d=Array(u),m=0;m<u;++m)d[m]=String.fromCharCode(T[c+m]);d=d.join("")}return Je(i),d},toWireType:function(i,u){u instanceof ArrayBuffer&&(u=new Uint8Array(u));var c=typeof u=="string";c||u instanceof Uint8Array||u instanceof Uint8ClampedArray||u instanceof Int8Array||J("Cannot pass non-string to std::string");var y=r&&c?xn(u):u.length,m=fn(4+y+1),A=m+4;if(O[m>>2]=y,r&&c)On(u,T,A,y+1);else if(c)for(c=0;c<y;++c){var d=u.charCodeAt(c);255<d&&(Je(A),J("String has UTF-16 code units that do not fit in 8 bits")),T[A+c]=d}else for(c=0;c<y;++c)T[A+c]=u[c];return i!==null&&i.push(Je,m),m},argPackAdvance:8,readValueFromPointer:bt,ka:function(i){Je(i)}})},u:function(t,e,r){if(r=Re(r),e===2)var i=yr,u=br,c=wr,y=()=>N,m=1;else e===4&&(i=_r,u=Ar,c=Er,y=()=>O,m=2);Ne(t,{name:r,fromWireType:function(A){for(var d=O[A>>2],F=y(),x,q=A+4,l=0;l<=d;++l){var S=A+4+l*e;(l==d||F[S>>m]==0)&&(q=i(q,S-q),x===void 0?x=q:(x+=String.fromCharCode(0),x+=q),q=S+e)}return Je(A),x},toWireType:function(A,d){typeof d!="string"&&J(`Cannot pass non-string to C++ string type ${r}`);var F=c(d),x=fn(4+F+e);return O[x>>2]=F>>m,u(d,x+4,F+e),A!==null&&A.push(Je,x),x},argPackAdvance:8,readValueFromPointer:bt,ka:function(A){Je(A)}})},Q:function(t,e,r,i,u,c){Ot[t]={name:Re(e),Pa:Fe(r,i),ra:Fe(u,c),cb:[]}},P:function(t,e,r,i,u,c,y,m,A,d){Ot[t].cb.push({Eb:Re(e),Kb:r,Ib:Fe(i,u),Jb:c,Vb:y,Ub:Fe(m,A),Wb:d})},L:function(t,e){e=Re(e),Ne(t,{Nb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},v:function(t,e,r){t=De(t),e=gt(e,"emval::as");var i=[],u=Ye(i);return O[r>>2]=u,e.toWireType(i,t)},w:function(t,e,r,i,u){t=Yt[t],e=De(e),r=Bt(r);var c=[];return O[i>>2]=Ye(c),t(e,r,c,u)},i:function(t,e,r,i){t=Yt[t],e=De(e),r=Bt(r),t(e,r,null,i)},c:un,h:function(t,e){var r=Cr(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(y){return y.name}).join("_")+"$";var u=jn[e];if(u!==void 0)return u;var c=Array(t-1);return u=Tr((y,m,A,d)=>{for(var F=0,x=0;x<t-1;++x)c[x]=r[x+1].readValueFromPointer(d+F),F+=r[x+1].argPackAdvance;for(y=y[m].apply(y,c),x=0;x<t-1;++x)r[x+1].zb&&r[x+1].zb(c[x]);if(!i.Nb)return i.toWireType(A,y)}),jn[e]=u},t:function(t){return t=Bt(t),Ye(s[t])},M:function(t,e){return t=De(t),e=De(e),Ye(t[e])},n:function(t){4<t&&(Oe.get(t).kb+=1)},o:function(t){return Ye(Bt(t))},A:function(){return Ye({})},q:function(t){var e=De(t);yt(e),un(t)},k:function(t,e,r){t=De(t),e=De(e),r=De(r),t[e]=r},r:function(t,e){return t=gt(t,"_emval_take_value"),t=t.readValueFromPointer(e),Ye(t)},b:()=>{nt("")},E:t=>{var e=T.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var u=Math;i=Math.max(t,i);e:{u=u.min.call(u,2147483648,i+(65536-i%65536)%65536)-n.buffer.byteLength+65535>>>16;try{n.grow(u),Pe();var c=1;break e}catch{}c=void 0}if(c)return!0}return!1},F:(t,e)=>{var r=0;return Un().forEach(function(i,u){var c=e+r;for(u=O[t+4*u>>2]=c,c=0;c<i.length;++c)_[u++>>0]=i.charCodeAt(c);_[u>>0]=0,r+=i.length+1}),0},G:(t,e)=>{var r=Un();O[t>>2]=r.length;var i=0;return r.forEach(function(u){i+=u.length+1}),O[e>>2]=i,0},H:()=>52,B:function(){return 70},I:(t,e,r,i)=>{for(var u=0,c=0;c<r;c++){var y=O[e>>2],m=O[e+4>>2];e+=8;for(var A=0;A<m;A++){var d=T[y+A],F=Pr[t];d===0||d===10?((t===1?se:$)(Wt(F,0)),F.length=0):F.push(d)}u+=m}return O[i>>2]=u,0},D:(t,e,r,i)=>Lr(t,e,r,i)};(function(){function t(r){if(a=r=r.exports,n=a.R,Pe(),Ee=a.X,Ue.unshift(a.S),We--,s.monitorRunDependencies&&s.monitorRunDependencies(We),We==0&&Ze){var i=Ze;Ze=null,i()}return r}var e={a:Sr};if(We++,s.monitorRunDependencies&&s.monitorRunDependencies(We),s.instantiateWasm)try{return s.instantiateWasm(e,t)}catch(r){$("Module.instantiateWasm callback failed with error: "+r),H(r)}return sr(e,function(r){t(r.instance)}).catch(H),{}})();var Je=t=>(Je=a.T)(t),fn=t=>(fn=a.U)(t),Nn=t=>(Nn=a.V)(t);s.__embind_initialize_bindings=()=>(s.__embind_initialize_bindings=a.W)(),s.dynCall_jiji=(t,e,r,i,u)=>(s.dynCall_jiji=a.Y)(t,e,r,i,u),s.dynCall_viijii=(t,e,r,i,u,c,y)=>(s.dynCall_viijii=a.Z)(t,e,r,i,u,c,y),s.dynCall_iiiiij=(t,e,r,i,u,c,y)=>(s.dynCall_iiiiij=a._)(t,e,r,i,u,c,y),s.dynCall_iiiiijj=(t,e,r,i,u,c,y,m,A)=>(s.dynCall_iiiiijj=a.$)(t,e,r,i,u,c,y,m,A),s.dynCall_iiiiiijj=(t,e,r,i,u,c,y,m,A,d)=>(s.dynCall_iiiiiijj=a.aa)(t,e,r,i,u,c,y,m,A,d);var $t;Ze=function t(){$t||Xn(),$t||(Ze=t)};function Xn(){function t(){if(!$t&&($t=!0,s.calledRun=!0,!f)){if(en(Ue),W(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();lt.unshift(e)}en(lt)}}if(!(0<We)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)Mt();en(je),0<We||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),t()},1)):t())}}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return Xn(),Y.ready}})();const U=X},p=>{p.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.9.1","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(p,w,R)=>{R.r(w),R.d(w,{BLANK_URL:()=>U.BLANK_URL,registerTouchInteractions:()=>X.registerTouchInteractions,sanitizeUrl:()=>U.sanitizeUrl});var X=R(4),U=R(5)},(p,w,R)=>{R.r(w),R.d(w,{registerTouchInteractions:()=>Q});var X=void 0,U=function(Y){var s,W;return["touchstart","touchmove"].indexOf(Y.type)>-1&&(!((s=Y.touches)===null||s===void 0)&&s.length)?(Y.preventDefault(),{clientX:Y.touches[0].clientX,clientY:Y.touches[0].clientY}):Y.type==="touchend"&&(!((W=Y.changedTouches)===null||W===void 0)&&W.length)?{clientX:Y.changedTouches[0].clientX,clientY:Y.changedTouches[0].clientY}:{clientX:Y.clientX,clientY:Y.clientY}},Q=function(Y){var s=Y.canvas,W=Y.artboard,H=Y.stateMachines,K=H===void 0?[]:H,be=Y.renderer,me=Y.rive,B=Y.fit,oe=Y.alignment;if(!s||!K.length||!be||!me||!W||typeof window>"u")return null;var j=function(we){var Z=we.currentTarget.getBoundingClientRect(),_e=U(we),ie=_e.clientX,ve=_e.clientY;if(!(!ie&&!ve)){var ge=ie-Z.left,se=ve-Z.top,$=me.computeAlignment(B,oe,{minX:0,minY:0,maxX:Z.width,maxY:Z.height},W.bounds),o=new me.Mat2D;$.invert(o);var n=new me.Vec2D(ge,se),a=me.mapXY(o,n),f=a.x(),_=a.y();switch(a.delete(),o.delete(),n.delete(),$.delete(),we.type){case"mouseout":for(var T=0,L=K;T<L.length;T++){var N=L[T];N.pointerMove(f<0?f-1e4:f+1e4,_<0?_-1e4:_+1e4)}break;case"touchmove":case"mouseover":case"mousemove":{for(var G=0,O=K;G<O.length;G++){var N=O[G];N.pointerMove(f,_)}break}case"touchstart":case"mousedown":{for(var ae=0,Te=K;ae<Te.length;ae++){var N=Te[ae];N.pointerDown(f,_)}break}case"touchend":case"mouseup":{for(var Pe=0,Ee=K;Pe<Ee.length;Pe++){var N=Ee[Pe];N.pointerUp(f,_)}break}}}},te=j.bind(X);return s.addEventListener("mouseover",te),s.addEventListener("mouseout",te),s.addEventListener("mousemove",te),s.addEventListener("mousedown",te),s.addEventListener("mouseup",te),s.addEventListener("touchmove",te),s.addEventListener("touchstart",te),s.addEventListener("touchend",te),function(){s.removeEventListener("mouseover",te),s.removeEventListener("mouseout",te),s.removeEventListener("mousemove",te),s.removeEventListener("mousedown",te),s.removeEventListener("mouseup",te),s.removeEventListener("touchmove",te),s.removeEventListener("touchstart",te),s.removeEventListener("touchend",te)}}},(p,w,R)=>{R.r(w),R.d(w,{BLANK_URL:()=>H,sanitizeUrl:()=>me});var X=/^([^\w]*)(javascript|data|vbscript)/im,U=/&#(\w+)(^\w|;)?/g,Q=/&(newline|tab);/gi,Y=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,s=/^.+(:|&colon;)/gim,W=[".","/"],H="about:blank";function K(B){return W.indexOf(B[0])>-1}function be(B){var oe=B.replace(Y,"");return oe.replace(U,function(j,te){return String.fromCharCode(te)})}function me(B){if(!B)return H;var oe=be(B).replace(Q,"").replace(Y,"").trim();if(!oe)return H;if(K(oe))return oe;var j=oe.match(s);if(!j)return oe;var te=j[0];return X.test(te)?H:oe}}],g={};function b(p){var w=g[p];if(w!==void 0)return w.exports;var R=g[p]={exports:{}};return v[p](R,R.exports,b),R.exports}b.d=(p,w)=>{for(var R in w)b.o(w,R)&&!b.o(p,R)&&Object.defineProperty(p,R,{enumerable:!0,get:w[R]})},b.o=(p,w)=>Object.prototype.hasOwnProperty.call(p,w),b.r=p=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})};var E={};return(()=>{b.r(E),b.d(E,{Alignment:()=>Y,EventType:()=>j,Fit:()=>Q,Layout:()=>s,LoopType:()=>te,Rive:()=>_e,RiveEventType:()=>me,RuntimeLoader:()=>W,StateMachineInput:()=>be,StateMachineInputType:()=>K,Testing:()=>ge,decodeFont:()=>$,decodeImage:()=>se});var p=b(1),w=b(2),R=b(3),X=function(o,n,a,f){function _(T){return T instanceof a?T:new a(function(L){L(T)})}return new(a||(a=Promise))(function(T,L){function N(ae){try{O(f.next(ae))}catch(Te){L(Te)}}function G(ae){try{O(f.throw(ae))}catch(Te){L(Te)}}function O(ae){ae.done?T(ae.value):_(ae.value).then(N,G)}O((f=f.apply(o,n||[])).next())})},U=function(o,n){var a={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},f,_,T,L;return L={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function N(O){return function(ae){return G([O,ae])}}function G(O){if(f)throw new TypeError("Generator is already executing.");for(;L&&(L=0,O[0]&&(a=0)),a;)try{if(f=1,_&&(T=O[0]&2?_.return:O[0]?_.throw||((T=_.return)&&T.call(_),0):_.next)&&!(T=T.call(_,O[1])).done)return T;switch(_=0,T&&(O=[O[0]&2,T.value]),O[0]){case 0:case 1:T=O;break;case 4:return a.label++,{value:O[1],done:!1};case 5:a.label++,_=O[1],O=[0];continue;case 7:O=a.ops.pop(),a.trys.pop();continue;default:if(T=a.trys,!(T=T.length>0&&T[T.length-1])&&(O[0]===6||O[0]===2)){a=0;continue}if(O[0]===3&&(!T||O[1]>T[0]&&O[1]<T[3])){a.label=O[1];break}if(O[0]===6&&a.label<T[1]){a.label=T[1],T=O;break}if(T&&a.label<T[2]){a.label=T[2],a.ops.push(O);break}T[2]&&a.ops.pop(),a.trys.pop();continue}O=n.call(o,a)}catch(ae){O=[6,ae],_=0}finally{f=T=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}},Q;(function(o){o.Cover="cover",o.Contain="contain",o.Fill="fill",o.FitWidth="fitWidth",o.FitHeight="fitHeight",o.None="none",o.ScaleDown="scaleDown"})(Q||(Q={}));var Y;(function(o){o.Center="center",o.TopLeft="topLeft",o.TopCenter="topCenter",o.TopRight="topRight",o.CenterLeft="centerLeft",o.CenterRight="centerRight",o.BottomLeft="bottomLeft",o.BottomCenter="bottomCenter",o.BottomRight="bottomRight"})(Y||(Y={}));var s=function(){function o(n){var a,f,_,T,L,N;this.fit=(a=n==null?void 0:n.fit)!==null&&a!==void 0?a:Q.Contain,this.alignment=(f=n==null?void 0:n.alignment)!==null&&f!==void 0?f:Y.Center,this.minX=(_=n==null?void 0:n.minX)!==null&&_!==void 0?_:0,this.minY=(T=n==null?void 0:n.minY)!==null&&T!==void 0?T:0,this.maxX=(L=n==null?void 0:n.maxX)!==null&&L!==void 0?L:0,this.maxY=(N=n==null?void 0:n.maxY)!==null&&N!==void 0?N:0}return o.new=function(n){var a=n.fit,f=n.alignment,_=n.minX,T=n.minY,L=n.maxX,N=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new o({fit:a,alignment:f,minX:_,minY:T,maxX:L,maxY:N})},o.prototype.copyWith=function(n){var a=n.fit,f=n.alignment,_=n.minX,T=n.minY,L=n.maxX,N=n.maxY;return new o({fit:a??this.fit,alignment:f??this.alignment,minX:_??this.minX,minY:T??this.minY,maxX:L??this.maxX,maxY:N??this.maxY})},o.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var a;return this.fit===Q.Cover?a=n.Fit.cover:this.fit===Q.Contain?a=n.Fit.contain:this.fit===Q.Fill?a=n.Fit.fill:this.fit===Q.FitWidth?a=n.Fit.fitWidth:this.fit===Q.FitHeight?a=n.Fit.fitHeight:this.fit===Q.ScaleDown?a=n.Fit.scaleDown:a=n.Fit.none,this.cachedRuntimeFit=a,a},o.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var a;return this.alignment===Y.TopLeft?a=n.Alignment.topLeft:this.alignment===Y.TopCenter?a=n.Alignment.topCenter:this.alignment===Y.TopRight?a=n.Alignment.topRight:this.alignment===Y.CenterLeft?a=n.Alignment.centerLeft:this.alignment===Y.CenterRight?a=n.Alignment.centerRight:this.alignment===Y.BottomLeft?a=n.Alignment.bottomLeft:this.alignment===Y.BottomCenter?a=n.Alignment.bottomCenter:this.alignment===Y.BottomRight?a=n.Alignment.bottomRight:a=n.Alignment.center,this.cachedRuntimeAlignment=a,a},o}(),W=function(){function o(){}return o.loadRuntime=function(){p.default({locateFile:function(){return o.wasmURL}}).then(function(n){var a;for(o.runtime=n;o.callBackQueue.length>0;)(a=o.callBackQueue.shift())===null||a===void 0||a(o.runtime)}).catch(function(){var n="https://cdn.jsdelivr.net/npm/".concat(w.name,"@").concat(w.version,"/rive.wasm");o.wasmURL.toLowerCase()!==n?(console.warn("Failed to load WASM from ".concat(o.wasmURL,", trying jsdelivr as a backup")),o.setWasmUrl(n),o.loadRuntime()):console.error("Could not load Rive WASM file from unpkg or jsdelivr, network connection may be down, or 	        you may need to call set a new WASM source via RuntimeLoader.setWasmUrl() and call 	        RuntimeLoader.loadRuntime() again")})},o.getInstance=function(n){o.isLoading||(o.isLoading=!0,o.loadRuntime()),o.runtime?n(o.runtime):o.callBackQueue.push(n)},o.awaitInstance=function(){return new Promise(function(n){return o.getInstance(function(a){return n(a)})})},o.setWasmUrl=function(n){o.wasmURL=n},o.isLoading=!1,o.callBackQueue=[],o.wasmURL="https://unpkg.com/".concat(w.name,"@").concat(w.version,"/rive.wasm"),o}(),H=function(){function o(n,a,f,_){this.animation=n,this.artboard=a,this.playing=_,this.loopCount=0,this.scrubTo=null,this.instance=new f.LinearAnimationInstance(n,a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},o.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(o.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){this.instance.delete()},o}(),K;(function(o){o[o.Number=56]="Number",o[o.Trigger=58]="Trigger",o[o.Boolean=59]="Boolean"})(K||(K={}));var be=function(){function o(n,a){this.type=n,this.runtimeInput=a}return Object.defineProperty(o.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),o.prototype.fire=function(){this.type===K.Trigger&&this.runtimeInput.fire()},o}(),me;(function(o){o[o.General=128]="General",o[o.OpenUrl=131]="OpenUrl"})(me||(me={}));var B=function(){function o(n,a,f,_){this.stateMachine=n,this.playing=f,this.artboard=_,this.inputs=[],this.instance=new a.StateMachineInstance(n,_),this.initInputs(a)}return Object.defineProperty(o.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"statesChanged",{get:function(){for(var n=[],a=0;a<this.instance.stateChangedCount();a++)n.push(this.instance.stateChangedNameByIndex(a));return n},enumerable:!1,configurable:!0}),o.prototype.advance=function(n){this.instance.advance(n)},o.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},o.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},o.prototype.initInputs=function(n){for(var a=0;a<this.instance.inputCount();a++){var f=this.instance.input(a);this.inputs.push(this.mapRuntimeInput(f,n))}},o.prototype.mapRuntimeInput=function(n,a){if(n.type===a.SMIInput.bool)return new be(K.Boolean,n.asBool());if(n.type===a.SMIInput.number)return new be(K.Number,n.asNumber());if(n.type===a.SMIInput.trigger)return new be(K.Trigger,n.asTrigger())},o.prototype.cleanup=function(){this.instance.delete()},o}(),oe=function(){function o(n,a,f,_,T){_===void 0&&(_=[]),T===void 0&&(T=[]),this.runtime=n,this.artboard=a,this.eventManager=f,this.animations=_,this.stateMachines=T}return o.prototype.add=function(n,a,f){if(f===void 0&&(f=!0),n=ve(n),n.length===0)this.animations.forEach(function(Ee){return Ee.playing=a}),this.stateMachines.forEach(function(Ee){return Ee.playing=a});else for(var _=this.animations.map(function(Ee){return Ee.name}),T=this.stateMachines.map(function(Ee){return Ee.name}),L=0;L<n.length;L++){var N=_.indexOf(n[L]),G=T.indexOf(n[L]);if(N>=0||G>=0)N>=0?this.animations[N].playing=a:this.stateMachines[G].playing=a;else{var O=this.artboard.animationByName(n[L]);if(O){var ae=new H(O,this.artboard,this.runtime,a);ae.advance(0),ae.apply(1),this.animations.push(ae)}else{var Te=this.artboard.stateMachineByName(n[L]);if(Te){var Pe=new B(Te,this.runtime,a,this.artboard);this.stateMachines.push(Pe)}}}}return f&&(a?this.eventManager.fire({type:j.Play,data:this.playing}):this.eventManager.fire({type:j.Pause,data:this.paused})),a?this.playing:this.paused},o.prototype.initLinearAnimations=function(n,a){for(var f=this.animations.map(function(G){return G.name}),_=0;_<n.length;_++){var T=f.indexOf(n[_]);if(T>=0)this.animations[T].playing=a;else{var L=this.artboard.animationByName(n[_]);if(L){var N=new H(L,this.artboard,this.runtime,a);N.advance(0),N.apply(1),this.animations.push(N)}}}},o.prototype.initStateMachines=function(n,a){for(var f=this.stateMachines.map(function(G){return G.name}),_=0;_<n.length;_++){var T=f.indexOf(n[_]);if(T>=0)this.stateMachines[T].playing=a;else{var L=this.artboard.stateMachineByName(n[_]);if(L){var N=new B(L,this.runtime,a,this.artboard);this.stateMachines.push(N)}else this.initLinearAnimations([n[_]],a)}}},o.prototype.play=function(n){return this.add(n,!0)},o.prototype.pause=function(n){return this.add(n,!1)},o.prototype.scrub=function(n,a){var f=this.animations.filter(function(_){return n.includes(_.name)});return f.forEach(function(_){return _.scrubTo=a}),f.map(function(_){return _.name})},Object.defineProperty(o.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),o.prototype.stop=function(n){var a=this;n=ve(n);var f=[];if(n.length===0)f=this.animations.map(function(L){return L.name}).concat(this.stateMachines.map(function(L){return L.name})),this.animations.forEach(function(L){return L.cleanup()}),this.stateMachines.forEach(function(L){return L.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var _=this.animations.filter(function(L){return n.includes(L.name)});_.forEach(function(L){L.cleanup(),a.animations.splice(a.animations.indexOf(L),1)});var T=this.stateMachines.filter(function(L){return n.includes(L.name)});T.forEach(function(L){L.cleanup(),a.stateMachines.splice(a.stateMachines.indexOf(L),1)}),f=_.map(function(L){return L.name}).concat(T.map(function(L){return L.name}))}return this.eventManager.fire({type:j.Stop,data:f}),f},Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,a){return n||a.playing},!1)||this.stateMachines.reduce(function(n,a){return n||a.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),o.prototype.atLeastOne=function(n,a){a===void 0&&(a=!0);var f;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([f=this.artboard.animationByIndex(0).name],n,a):this.artboard.stateMachineCount()>0&&this.add([f=this.artboard.stateMachineByIndex(0).name],n,a)),f},o.prototype.handleLooping=function(){for(var n=0,a=this.animations.filter(function(_){return _.playing});n<a.length;n++){var f=a[n];f.loopValue===0&&f.loopCount?(f.loopCount=0,this.stop(f.name)):f.loopValue===1&&f.loopCount?(this.eventManager.fire({type:j.Loop,data:{animation:f.name,type:te.Loop}}),f.loopCount=0):f.loopValue===2&&f.loopCount>1&&(this.eventManager.fire({type:j.Loop,data:{animation:f.name,type:te.PingPong}}),f.loopCount=0)}},o.prototype.handleStateChanges=function(){for(var n=[],a=0,f=this.stateMachines.filter(function(T){return T.playing});a<f.length;a++){var _=f[a];n.push.apply(n,_.statesChanged)}n.length>0&&this.eventManager.fire({type:j.StateChange,data:n})},o.prototype.handleAdvancing=function(n){this.eventManager.fire({type:j.Advance,data:n})},o}(),j;(function(o){o.Load="load",o.LoadError="loaderror",o.Play="play",o.Pause="pause",o.Stop="stop",o.Loop="loop",o.Draw="draw",o.Advance="advance",o.StateChange="statechange",o.RiveEvent="riveevent"})(j||(j={}));var te;(function(o){o.OneShot="oneshot",o.Loop="loop",o.PingPong="pingpong"})(te||(te={}));var we=function(){function o(n){n===void 0&&(n=[]),this.listeners=n}return o.prototype.getListeners=function(n){return this.listeners.filter(function(a){return a.type===n})},o.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},o.prototype.remove=function(n){for(var a=0;a<this.listeners.length;a++){var f=this.listeners[a];if(f.type===n.type&&f.callback===n.callback){this.listeners.splice(a,1);break}}},o.prototype.removeAll=function(n){var a=this;n?this.listeners.filter(function(f){return f.type===n}).forEach(function(f){return a.remove(f)}):this.listeners.splice(0,this.listeners.length)},o.prototype.fire=function(n){var a=this.getListeners(n.type);a.forEach(function(f){return f.callback(n)})},o}(),Z=function(){function o(n){this.eventManager=n,this.queue=[]}return o.prototype.add=function(n){this.queue.push(n)},o.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},o}(),_e=function(){function o(n){var a;this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(a=n.layout)!==null&&a!==void 0?a:new s,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new we,n.onLoad&&this.on(j.Load,n.onLoad),n.onLoadError&&this.on(j.LoadError,n.onLoadError),n.onPlay&&this.on(j.Play,n.onPlay),n.onPause&&this.on(j.Pause,n.onPause),n.onStop&&this.on(j.Stop,n.onStop),n.onLoop&&this.on(j.Loop,n.onLoop),n.onStateChange&&this.on(j.StateChange,n.onStateChange),n.onAdvance&&this.on(j.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(j.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(j.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(j.Play,n.onplay),n.onpause&&!n.onPause&&this.on(j.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(j.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(j.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(j.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new Z(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return o.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new o(n)},o.prototype.init=function(n){var a=this,f=n.src,_=n.buffer,T=n.animations,L=n.stateMachines,N=n.artboard,G=n.autoplay,O=G===void 0?!1:G,ae=n.useOffscreenRenderer,Te=ae===void 0?!1:ae;if(this.src=f,this.buffer=_,!this.src&&!this.buffer)throw new Error(o.missingErrorMessage);var Pe=ve(T),Ee=ve(L);this.loaded=!1,this.readyForPlaying=!1,W.awaitInstance().then(function(je){a.runtime=je,a.renderer=a.runtime.makeRenderer(a.canvas,Te),a.canvas.width||a.canvas.height||a.resizeDrawingSurfaceToCanvas(),a.initData(N,Pe,Ee,O).then(function(){return a.setupRiveListeners()}).catch(function(Ue){console.error(Ue)})}).catch(function(je){console.error(je)})},o.prototype.setupRiveListeners=function(){var n=this;if(!this.shouldDisableRiveListeners){var a=(this.animator.stateMachines||[]).filter(function(f){return f.playing&&n.runtime.hasListeners(f.instance)}).map(function(f){return f.instance});this.eventCleanup=(0,R.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:a,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime)})}},o.prototype.initData=function(n,a,f,_){var T;return X(this,void 0,void 0,function(){var L,N,G,O;return U(this,function(ae){switch(ae.label){case 0:return this.src?(L=this,[4,ie(this.src)]):[3,2];case 1:L.buffer=ae.sent(),ae.label=2;case 2:return this.assetLoader&&(N=new this.runtime.CustomFileAssetLoader({loadContents:this.assetLoader})),G=this,[4,this.runtime.load(new Uint8Array(this.buffer),N,this.enableRiveAssetCDN)];case 3:return G.file=ae.sent(),this.file?(this.initArtboard(n,a,f,_),this.loaded=!0,this.eventManager.fire({type:j.Load,data:(T=this.src)!==null&&T!==void 0?T:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(O="Problem loading file; may be corrupt!",console.warn(O),this.eventManager.fire({type:j.LoadError,data:O}),[2,Promise.reject(O)])}})})},o.prototype.initArtboard=function(n,a,f,_){var T=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!T){var L="Invalid artboard name or no default artboard";console.warn(L),this.eventManager.fire({type:j.LoadError,data:L});return}if(this.artboard=T,this.artboard.animationCount()<1){var L="Artboard has no animations";throw this.eventManager.fire({type:j.LoadError,data:L}),L}this.animator=new oe(this.runtime,this.artboard,this.eventManager);var N;a.length>0||f.length>0?(N=a.concat(f),this.animator.initLinearAnimations(a,_),this.animator.initStateMachines(f,_)):N=[this.animator.atLeastOne(_,!1)],this.taskQueue.add({event:{type:_?j.Play:j.Pause,data:N}})},o.prototype.drawFrame=function(){this.startRendering()},o.prototype.draw=function(n,a){var f=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,a==null||a());var _=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var T=this.animator.animations.filter(function(qe){return qe.playing||qe.needsScrub}).sort(function(qe){return qe.needsScrub?-1:1}),L=0,N=T;L<N.length;L++){var G=N[L];G.advance(_),G.instance.didLoop&&(G.loopCount+=1),G.apply(1)}for(var O=this.animator.stateMachines.filter(function(qe){return qe.playing}),ae=0,Te=O;ae<Te.length;ae++){var Pe=Te[ae],Ee=Pe.reportedEventCount();if(Ee)for(var je=0;je<Ee;je++){var Ue=Pe.reportedEventAt(je);if(Ue)if(Ue.type===me.OpenUrl){if(this.eventManager.fire({type:j.RiveEvent,data:Ue}),this.automaticallyHandleEvents){var lt=document.createElement("a"),Mt=Ue,We=Mt.url,Ze=Mt.target,nt=(0,R.sanitizeUrl)(We);We&&lt.setAttribute("href",nt),Ze&&lt.setAttribute("target",Ze),nt&&nt!==R.BLANK_URL&&lt.click()}}else this.eventManager.fire({type:j.RiveEvent,data:Ue})}Pe.advance(_)}this.artboard.advance(_);var et=this.renderer;et.clear(),et.save(),this.alignRenderer(),this.artboard.draw(et),et.restore(),et.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(_),this.frameCount++;var Be=performance.now();for(this.frameTimes.push(Be),this.durations.push(Be-f);this.frameTimes[0]<=Be-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},o.prototype.alignRenderer=function(){var n=this,a=n.renderer,f=n.runtime,_=n._layout,T=n.artboard;a.align(_.runtimeFit(f),_.runtimeAlignment(f),{minX:_.minX,minY:_.minY,maxX:_.maxX,maxY:_.maxY},T.bounds)},Object.defineProperty(o.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,a){return n+a},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),o.prototype.cleanup=function(){var n,a,f;this.stopRendering(),this.cleanupInstances(),!((n=this.runtime)===null||n===void 0)&&n.CanvasRenderer&&((a=this.renderer)===null||a===void 0||a.delete()),this.renderer=null,(f=this.file)===null||f===void 0||f.delete(),this.file=null},o.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},o.prototype.retrieveTextRun=function(n){var a;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var f=this.artboard.textRun(n);if(!f){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((a=this.artboard)===null||a===void 0?void 0:a.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return f},o.prototype.getTextRunValue=function(n){var a=this.retrieveTextRun(n);return a?a.text:void 0},o.prototype.setTextRunValue=function(n,a){var f=this.retrieveTextRun(n);f&&(f.text=a)},o.prototype.play=function(n,a){var f=this;if(n=ve(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return f.play(n,a)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},o.prototype.pause=function(n){var a=this;if(n=ve(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},o.prototype.scrub=function(n,a){var f=this;if(n=ve(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return f.scrub(n,a)}});return}this.animator.scrub(n,a||0),this.drawFrame()},o.prototype.stop=function(n){var a=this;if(n=ve(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return a.stop(n)}});return}this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},o.prototype.reset=function(n){var a,f=n==null?void 0:n.artboard,_=ve(n==null?void 0:n.animations),T=ve(n==null?void 0:n.stateMachines),L=(a=n==null?void 0:n.autoplay)!==null&&a!==void 0?a:!1;this.cleanupInstances(),this.initArtboard(f,_,T,L),this.taskQueue.process()},o.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(o.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),o.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},o.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&window){var n=this.canvas.getBoundingClientRect(),a=n.width,f=n.height,_=window.devicePixelRatio||1;this.canvas.width=_*a,this.canvas.height=_*f,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(o.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.animationCount();a++)n.push(this.artboard.animationByIndex(a).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],a=0;a<this.artboard.stateMachineCount();a++)n.push(this.artboard.stateMachineByIndex(a).name);return n},enumerable:!1,configurable:!0}),o.prototype.stateMachineInputs=function(n){if(this.loaded){var a=this.animator.stateMachines.find(function(f){return f.name===n});return a==null?void 0:a.inputs}},Object.defineProperty(o.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),o.prototype.on=function(n,a){this.eventManager.add({type:n,callback:a})},o.prototype.off=function(n,a){this.eventManager.remove({type:n,callback:a})},o.prototype.unsubscribe=function(n,a){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,a)},o.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},o.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},o.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},o.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},o.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},o.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(o.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},a=0;a<this.file.artboardCount();a++){for(var f=this.file.artboardByIndex(a),_={name:f.name,animations:[],stateMachines:[]},T=0;T<f.animationCount();T++){var L=f.animationByIndex(T);_.animations.push(L.name)}for(var N=0;N<f.stateMachineCount();N++){for(var G=f.stateMachineByIndex(N),O=G.name,ae=new this.runtime.StateMachineInstance(G,f),Te=[],Pe=0;Pe<ae.inputCount();Pe++){var Ee=ae.input(Pe);Te.push({name:Ee.name,type:Ee.type})}_.stateMachines.push({name:O,inputs:Te})}n.artboards.push(_)}return n}},enumerable:!1,configurable:!0}),o.missingErrorMessage="Rive source file or data buffer required",o}(),ie=function(o){return X(void 0,void 0,void 0,function(){var n,a,f;return U(this,function(_){switch(_.label){case 0:return n=new Request(o),[4,fetch(n)];case 1:return a=_.sent(),[4,a.arrayBuffer()];case 2:return f=_.sent(),[2,f]}})})},ve=function(o){return typeof o=="string"?[o]:o instanceof Array?o:[]},ge={EventManager:we,TaskQueueManager:Z},se=function(o){return new Promise(function(n){return W.getInstance(function(a){a.decodeImage(o,n)})})},$=function(o){return new Promise(function(n){return W.getInstance(function(a){a.decodeFont(o,n)})})}})(),E})())})(ar);var Jr=ar.exports;const Gt=Vr(!1);function Zn(P,h,v){const g=P.slice();g[11]=h[v].text,g[12]=h[v].prompt,g[13]=h[v].options,g[16]=v;const b=g[3]===g[16];return g[14]=b,g}function er(P,h,v){const g=P.slice();return g[17]=h[v].label,g[18]=h[v].value,g[16]=v,g}function tr(P){let h,v,g=P[12]+"",b,E,p=ut(P[13]),w=[];for(let R=0;R<p.length;R+=1)w[R]=nr(er(P,p,R));return{c(){h=ne("p"),v=new vn(!1),b=He();for(let R=0;R<w.length;R+=1)w[R].c();E=pt(),this.h()},l(R){h=re(R,"P",{class:!0});var X=Se(h);v=gn(X,!1),X.forEach(V),b=Ge(R);for(let U=0;U<w.length;U+=1)w[U].l(R);E=pt(),this.h()},h(){v.a=null,I(h,"class","prompt svelte-pds7mf")},m(R,X){ke(R,h,X),v.m(g,h),ke(R,b,X);for(let U=0;U<w.length;U+=1)w[U]&&w[U].m(R,X);ke(R,E,X)},p(R,X){if(X&1&&g!==(g=R[12]+"")&&v.p(g),X&33){p=ut(R[13]);let U;for(U=0;U<p.length;U+=1){const Q=er(R,p,U);w[U]?w[U].p(Q,X):(w[U]=nr(Q),w[U].c(),w[U].m(E.parentNode,E))}for(;U<w.length;U+=1)w[U].d(1);w.length=p.length}},d(R){R&&(V(h),V(b),V(E)),Zt(w,R)}}}function nr(P){let h,v=P[17]+"",g,b,E;return{c(){h=ne("button"),g=Vt(v),this.h()},l(p){h=re(p,"BUTTON",{class:!0});var w=Se(h);g=Ht(w,v),w.forEach(V),this.h()},h(){I(h,"class","svelte-pds7mf")},m(p,w){ke(p,h,w),z(h,g),b||(E=pn(h,"click",P[5][P[16]]),b=!0)},p(p,w){P=p,w&1&&v!==(v=P[17]+"")&&Wr(g,v)},d(p){p&&V(h),b=!1,E()}}}function rr(P){let h,v,g=P[11]+"",b,E,p=P[12]&&P[13]&&tr(P);return{c(){h=ne("p"),v=new vn(!1),b=He(),p&&p.c(),E=He(),this.h()},l(w){h=re(w,"P",{class:!0});var R=Se(h);v=gn(R,!1),b=Ge(R),p&&p.l(R),E=Ge(R),R.forEach(V),this.h()},h(){v.a=b,I(h,"class","step svelte-pds7mf"),qt(h,"active",P[14])},m(w,R){ke(w,h,R),v.m(g,h),z(h,b),p&&p.m(h,null),z(h,E)},p(w,R){R&1&&g!==(g=w[11]+"")&&v.p(g),w[12]&&w[13]?p?p.p(w,R):(p=tr(w),p.c(),p.m(h,E)):p&&(p.d(1),p=null),R&8&&qt(h,"active",w[14])},d(w){w&&V(h),p&&p.d()}}}function Zr(P){let h,v=ut(P[0]),g=[];for(let b=0;b<v.length;b+=1)g[b]=rr(Zn(P,v,b));return{c(){for(let b=0;b<g.length;b+=1)g[b].c();h=pt()},l(b){for(let E=0;E<g.length;E+=1)g[E].l(b);h=pt()},m(b,E){for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(b,E);ke(b,h,E)},p(b,E){if(E&41){v=ut(b[0]);let p;for(p=0;p<v.length;p+=1){const w=Zn(b,v,p);g[p]?g[p].p(w,E):(g[p]=rr(w),g[p].c(),g[p].m(h.parentNode,h))}for(;p<g.length;p+=1)g[p].d(1);g.length=v.length}},d(b){b&&V(h),Zt(g,b)}}}function ei(P){let h,v,g,b,E,p,w,R,X,U;function Q(s){P[7](s)}let Y={top:P[4],$$slots:{default:[Zr]},$$scope:{ctx:P}};return P[3]!==void 0&&(Y.value=P[3]),p=new Kr({props:Y}),mn.push(()=>Nr(p,"value",Q)),{c(){h=ne("div"),v=ne("div"),g=ne("canvas"),b=He(),E=ne("div"),zt(p.$$.fragment),R=He(),X=ne("div"),this.h()},l(s){h=re(s,"DIV",{class:!0});var W=Se(h);v=re(W,"DIV",{class:!0});var H=Se(v);g=re(H,"CANVAS",{height:!0,class:!0}),Se(g).forEach(V),H.forEach(V),b=Ge(W),E=re(W,"DIV",{class:!0});var K=Se(E);Qt(p.$$.fragment,K),R=Ge(K),X=re(K,"DIV",{}),Se(X).forEach(V),K.forEach(V),W.forEach(V),this.h()},h(){I(g,"height",500),I(g,"class","svelte-pds7mf"),I(v,"class","canvas svelte-pds7mf"),jr(X,"height","500px"),I(E,"class","text svelte-pds7mf"),I(h,"class","scene-wrapper svelte-pds7mf"),qt(h,"fixed",P[1])},m(s,W){ke(s,h,W),z(h,v),z(v,g),P[6](g),z(h,b),z(h,E),Kt(p,E,null),z(E,R),z(E,X),U=!0},p(s,[W]){const H={};W&16&&(H.top=s[4]),W&1048585&&(H.$$scope={dirty:W,ctx:s}),!w&&W&8&&(w=!0,H.value=s[3],Ur(()=>w=!1)),p.$set(H),(!U||W&2)&&qt(h,"fixed",s[1])},i(s){U||(Et(p.$$.fragment,s),U=!0)},o(s){Rt(p.$$.fragment,s),U=!1},d(s){s&&V(h),P[6](null),Jt(p)}}}function ti(P,h,v){let g,b;dn(P,Gt,W=>v(1,b=W));let{steps:E}=h,p,w,R,X,U;const Q=[()=>X.fire(),()=>U.fire()];ir(()=>{const W=new Jr.Rive({src:"https://ucarecdn.com/f4639c73-2ad7-4b0e-918d-40d6ec439eed/240215_QueuesExperiment",canvas:p,autoplay:!0,stateMachines:"StateMachine",onLoad:()=>{const H=W.stateMachineInputs("StateMachine");R=H.find(K=>K.name==="rive-step"),X=H.find(K=>K.name==="Left-select"),U=H.find(K=>K.name==="Right-Select"),R.value=1}})});function Y(W){mn[W?"unshift":"push"](()=>{p=W,v(2,p)})}function s(W){w=W,v(3,w)}return P.$$set=W=>{"steps"in W&&v(0,E=W.steps)},P.$$.update=()=>{P.$$.dirty&2&&v(4,g=b?653:0)},[E,b,p,w,g,Q,Y,s]}class ni extends Ct{constructor(h){super(),Pt(this,h,ti,ei,Tt,{steps:0})}}const ri="LineCraft",ii="How queues work and how to wait better",ai="By Olumurejiwa Fatunde and Uri Bram",oi="With Marisa Rafter and Michelle McGhee",si=[{type:"text",value:"Whether it’s getting a latte, checking out at the grocery store, or waiting for an elevator we all experience queues all the time. It can be frustrating to wait in line. We've all been there, mentally redesigning the system, thinking, 'There's got to be a better way to do this.'"},{type:"text",value:"My work is in the field of queueing theory, the mathematical study of waiting in line. Turns out, there are lots of ways to do it better, and they might not be what you think."},{type:"text",value:"To show you some of them, let’s go to a familiar setting with a whole lot of queues: the airport."}],ui=[{title:"Scene 1",steps:[{text:"We’ll begin at the ticket check line, the first queue standing between you and your vacation. 🌴"},{text:"On your left is a queue with 10 travelers and 1 ticket-checker, on your right is a queue with 30 travelers and 3 ticket-checkers.",prompt:"Which one do you pick?",options:[{label:"Queue A",value:"a"},{label:"Queue B",value:"b"}]},{text:"It’s an interesting problem: if each side has 10 travelers per ticket-checker, shouldn’t the lines move equally fast? Is it just random which line will be quicker, or can you beat the odds? Let’s see what happens."},{text:"As you can see, you got through in [n] minutes, while it took the other line [m] minutes. Even though they both had the same number of travelers per teller, the side with multiple tellers serving a combined line -- what queuing theorists call a <strong>pooled queue</strong> -- was [p]% faster than the side with one teller per line -- what queuing theorists call a <strong>parallel queue</strong>."}]}],st={hed:ri,dek:ii,byline:ai,byline2:oi,intro:si,scenes:ui};function li(P,h={}){let v;const g=E=>{const p=E[0].isIntersecting,w=p?"enter":"exit";if(P.dispatchEvent(new CustomEvent(w)),h.progress&&p){const X={ratio:E[0].intersectionRatio};P.dispatchEvent(new CustomEvent("progress",{detail:X}))}},b=({root:E,top:p,bottom:w})=>{const R=p?p*-1:0,X=w?w*-1:0,U=`${R}px 0px ${X}px 0px`,Q={root:E,rootMargin:U};v&&v.disconnect(),v=new IntersectionObserver(g,Q),v.observe(P)};return b(h),{update(E){b(E)},destroy(){v&&v.disconnect()}}}function ci(P,h,v){const g=P.slice();return g[4]=h[v].value,g}function hi(P){let h,v;return{c(){h=ne("p"),v=new vn(!1),this.h()},l(g){h=re(g,"P",{});var b=Se(h);v=gn(b,!1),b.forEach(V),this.h()},h(){v.a=null},m(g,b){ke(g,h,b),v.m(P[4],h)},p:At,d(g){g&&V(h)}}}function fi(P){let h,v,g,b=st.hed+"",E,p,w,R=st.dek+"",X,U,Q,Y=st.byline+"",s,W,H,K,be,me,B,oe,j,te=ut(st.intro),we=[];for(let Z=0;Z<te.length;Z+=1)we[Z]=hi(ci(P,te,Z));return me=new ni({props:{steps:st.scenes[0].steps}}),{c(){h=ne("article"),v=ne("section"),g=ne("h1"),E=Vt(b),p=He(),w=ne("h3"),X=Vt(R),U=He(),Q=ne("p"),s=Vt(Y),W=He(),H=ne("section");for(let Z=0;Z<we.length;Z+=1)we[Z].c();K=He(),be=ne("section"),zt(me.$$.fragment),this.h()},l(Z){h=re(Z,"ARTICLE",{class:!0});var _e=Se(h);v=re(_e,"SECTION",{id:!0,class:!0});var ie=Se(v);g=re(ie,"H1",{});var ve=Se(g);E=Ht(ve,b),ve.forEach(V),p=Ge(ie),w=re(ie,"H3",{});var ge=Se(w);X=Ht(ge,R),ge.forEach(V),U=Ge(ie),Q=re(ie,"P",{});var se=Se(Q);s=Ht(se,Y),se.forEach(V),ie.forEach(V),W=Ge(_e),H=re(_e,"SECTION",{id:!0,class:!0});var $=Se(H);for(let n=0;n<we.length;n+=1)we[n].l($);$.forEach(V),K=Ge(_e),be=re(_e,"SECTION",{id:!0});var o=Se(be);Qt(me.$$.fragment,o),o.forEach(V),_e.forEach(V),this.h()},h(){I(v,"id","title"),I(v,"class","svelte-ot9xbt"),I(H,"id","intro"),I(H,"class","svelte-ot9xbt"),I(be,"id","scene-1"),I(h,"class","svelte-ot9xbt")},m(Z,_e){ke(Z,h,_e),z(h,v),z(v,g),z(g,E),z(v,p),z(v,w),z(w,X),z(v,U),z(v,Q),z(Q,s),z(h,W),z(h,H);for(let ie=0;ie<we.length;ie+=1)we[ie]&&we[ie].m(H,null);z(h,K),z(h,be),Kt(me,be,null),B=!0,oe||(j=[Br(li.call(null,H)),pn(H,"enter",P[0]),pn(H,"exit",P[1])],oe=!0)},p:At,i(Z){B||(Et(me.$$.fragment,Z),B=!0)},o(Z){Rt(me.$$.fragment,Z),B=!1},d(Z){Z&&V(h),Zt(we,Z),Jt(me),oe=!1,Yr(j)}}}function di(P,h,v){let g,b;return dn(P,Gt,w=>v(2,g=w)),dn(P,$r,w=>v(3,b=w)),[()=>{b.width<600&&zn(Gt,g=!1,g)},()=>{b.width<600&&zn(Gt,g=!0,g)}]}class pi extends Ct{constructor(h){super(),Pt(this,h,di,fi,Tt,{})}}function mi(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.14.0"),console.log("build: 2024-02-22-15:42"),console.log("--- --- --- --- --- ---")}function vi(P){let h,v,g,b;return h=new qr({props:{title:P[1],description:P[2],url:P[3],preloadFont:P[0],keywords:P[4]}}),g=new pi({}),{c(){zt(h.$$.fragment),v=He(),zt(g.$$.fragment)},l(E){Qt(h.$$.fragment,E),v=Ge(E),Qt(g.$$.fragment,E)},m(E,p){Kt(h,E,p),ke(E,v,p),Kt(g,E,p),b=!0},p:At,i(E){b||(Et(h.$$.fragment,E),Et(g.$$.fragment,E),b=!0)},o(E){Rt(h.$$.fragment,E),Rt(g.$$.fragment,E),b=!1},d(E){E&&V(v),Jt(h,E),Jt(g,E)}}}function gi(P,h,v){let{data:g}=h;mi();const b=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:E,description:p,url:w,keywords:R}=st;return Qn("copy",st),Qn("data",g.data),P.$$set=X=>{"data"in X&&v(5,g=X.data)},[b,E,p,w,R,g]}class Ei extends Ct{constructor(h){super(),Pt(this,h,gi,vi,Tt,{data:5})}}export{Ei as component};
